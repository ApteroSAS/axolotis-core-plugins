{"version":3,"file":"@aptero/axolotis-core-plugins/debug/PerformanceRStats.0b90b652e22ee1a97816.js","mappings":"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","sources":["webpack://axolotis-core-plugins/./src/lib/modules/debug/PerformanceRStats.ts","webpack://axolotis-core-plugins/./src/lib/modules/debug/rStats/rStats.extras.ts","webpack://axolotis-core-plugins/./src/lib/modules/debug/rStats/rStats.ts","webpack://axolotis-core-plugins/./node_modules/three/examples/jsm/libs/stats.module.js"],"sourcesContent":["import { Service } from \"@aptero/axolotis-player\";\r\n\r\nconst html =\r\n  \"<style>\\n\" +\r\n  \"    .alarm{\\n\" +\r\n  \"        color: #b70000;!important;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-base h1{\\n\" +\r\n  \"        margin: 0;\\n\" +\r\n  \"        padding: 0;\\n\" +\r\n  \"        font-size: 1.4em;\\n\" +\r\n  \"        color: #fff;\\n\" +\r\n  \"        margin-bottom: 5px;\\n\" +\r\n  \"        cursor: pointer;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-base div.rs-group{\\n\" +\r\n  \"        margin-bottom: 10px;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-base div.rs-group.hidden{\\n\" +\r\n  \"        display: none;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-base div.rs-fraction{\\n\" +\r\n  \"        position: relative;\\n\" +\r\n  \"        margin-bottom: 5px;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-base div.rs-fraction p{\\n\" +\r\n  \"        width: 120px;\\n\" +\r\n  \"        text-align: right;\\n\" +\r\n  \"        margin: 0;\\n\" +\r\n  \"        padding: 0;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-base div.rs-legend{\\n\" +\r\n  \"        position: absolute;\\n\" +\r\n  \"        line-height: 1em;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-base div.rs-counter-base{\\n\" +\r\n  \"        position: relative;\\n\" +\r\n  \"        margin: 2px 0;\\n\" +\r\n  \"        height: 1em;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-base span.rs-counter-id{\\n\" +\r\n  \"        color: white;\\n\" +\r\n  \"        position: absolute;\\n\" +\r\n  \"        left: 0;\\n\" +\r\n  \"        top: 0;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-base div.rs-counter-value{\\n\" +\r\n  \"        color: white;\\n\" +\r\n  \"        position: absolute;\\n\" +\r\n  \"        left: 90px;\\n\" +\r\n  \"        width: 30px;\\n\" +\r\n  \"        height: 1em;\\n\" +\r\n  \"        top: 0;\\n\" +\r\n  \"        text-align: right;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-base canvas.rs-canvas{\\n\" +\r\n  \"        position: absolute;\\n\" +\r\n  \"        right: 0;\\n\" +\r\n  \"    }\\n\" +\r\n  \"</style>\\n\" +\r\n  \"<style>\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-header {\\n\" +\r\n  \"        display: flex;\\n\" +\r\n  \"        justify-content: space-between;\\n\" +\r\n  \"        border-bottom: 1px rgba(255,255,255,0.1) solid;\\n\" +\r\n  \"        margin-bottom: 8px;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-collapse-btn {\\n\" +\r\n  \"        cursor: pointer;\\n\" +\r\n  \"        font-size: 12px;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-fps-counter {\\n\" +\r\n  \"        font-family: monospace;\\n\" +\r\n  \"        cursor: pointer;\\n\" +\r\n  \"        position: absolute;\\n\" +\r\n  \"        bottom: 96px;\\n\" +\r\n  \"        right: 2px;\\n\" +\r\n  \"        padding: 4px 8px;\\n\" +\r\n  \"        color: #ffffff;\\n\" +\r\n  \"        text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);\\n\" +\r\n  \"        font-size: 10px;\\n\" +\r\n  \"        -moz-user-select: none;\\n\" +\r\n  \"        -webkit-user-select: none;\\n\" +\r\n  \"        -ms-user-select: none;\\n\" +\r\n  \"        user-select: none;\\n\" +\r\n  \"    }\\n\" +\r\n  \"\\n\" +\r\n  \"    .rs-base {\\n\" +\r\n  \"        right: 10px;\\n\" +\r\n  \"        left: auto;\\n\" +\r\n  \"        top: 10px;\\n\" +\r\n  \"        -moz-user-select: none;\\n\" +\r\n  \"        -webkit-user-select: none;\\n\" +\r\n  \"        -ms-user-select: none;\\n\" +\r\n  \"        user-select: none;\\n\" +\r\n  \"\\n\" +\r\n  \"        position: absolute;\\n\" +\r\n  \"        z-index: 10000;\\n\" +\r\n  \"        padding: 10px;\\n\" +\r\n  \"        background-color: #222;\\n\" +\r\n  \"        font-size: 10px;\\n\" +\r\n  \"        line-height: 1.2em;\\n\" +\r\n  \"        width: 350px;\\n\" +\r\n  \"        font-family: 'Roboto Condensed', tahoma, sans-serif;\\n\" +\r\n  \"        overflow: hidden;\\n\" +\r\n  \"    }\\n\" +\r\n  \"</style>\\n\";\r\n\r\nimport { Component } from \"@aptero/axolotis-player\";\r\nimport Stats from \"three/examples/jsm/libs/stats.module\";\r\nimport { ThreeLib } from \"@root/lib/modules/three/ThreeLib\";\r\nimport NavMeshPlayer from \"@root/lib/modules/controller/pathFindingPlayer/NavMeshPlayer\";\r\nimport { DebugBtn } from \"@root/lib/modules/debug/DebugBtn\";\r\nimport { WebpackLazyModule } from \"@root/lib/generated/webpack/WebpackLoader\";\r\nimport { LazyServices, Services } from \"@aptero/axolotis-player\";\r\nimport { WorldService } from \"@root/lib/modules/worlds/WorldService\";\r\nimport { FrameLoop } from \"@root/lib/modules/frame/FrameLoop\";\r\n\r\nconst rStats = require(\"./rStats/rStats\");\r\nconst rStatsExtra = require(\"./rStats/rStats.extras\");\r\n\r\ndeclare const window: any;\r\n\r\nexport class Factory implements WebpackLazyModule, Service<PerformanceRStats> {\r\n  async createService(services: LazyServices): Promise<PerformanceRStats> {\r\n    let threeLib = await services.getService<ThreeLib>(\r\n      \"@aptero/axolotis-core-plugins/three/ThreeLib\"\r\n    );\r\n    let frameLoop = await services.getService<FrameLoop>(\r\n      \"@aptero/axolotis-core-plugins/frame/FrameLoop\"\r\n    );\r\n    let worldService = await services.getService<WorldService>(\r\n      \"@aptero/axolotis-core-plugins/worlds/WorldService\"\r\n    );\r\n    return new PerformanceRStats(threeLib, frameLoop, worldService);\r\n  }\r\n}\r\n\r\nexport class PerformanceRStats implements Component {\r\n  private rS: any;\r\n  constructor(\r\n    private threeLib: ThreeLib,\r\n    frameLoop: FrameLoop,\r\n    private worldService: WorldService\r\n  ) {\r\n    if (window.perfStatSingletonPresent) {\r\n      return; //Only one debug panel even if multiple world\r\n    }\r\n    window.perfStatSingletonPresent = true;\r\n    console.warn(\r\n      \"MB MBytes of allocated memory. (Run Chrome with --enable-precise-memory-info) to have precise perf info\"\r\n    );\r\n    const stats = Stats();\r\n    stats.showPanel(2);\r\n    document.body.appendChild(stats.dom);\r\n    this.updateRstats();\r\n    window.document.body.insertAdjacentHTML(\"beforeend\", html);\r\n    if (worldService.isActiveWorld()) {\r\n      const animate = (t) => {\r\n        //Avoir using frameloop for this so it does not appear on perf\r\n        requestAnimationFrame(animate);\r\n        stats.update();\r\n        this.rS().update();\r\n        this.rS(\"framerate\").end();\r\n        this.rS(\"framerate\").start();\r\n      };\r\n      requestAnimationFrame(animate);\r\n    }\r\n\r\n    worldService.addOnWorldAdded(() => {\r\n      this.updateWorldCallback();\r\n    }, true);\r\n  }\r\n\r\n  updateRstats() {\r\n    let elementsByClassName = document.body.getElementsByClassName(\"rs-base\");\r\n    if (elementsByClassName.length != 0) {\r\n      elementsByClassName[0].remove();\r\n    }\r\n    //https://spite.github.io/rstats/\r\n    const threeStats = new window.threeStats(this.threeLib.renderer);\r\n    //const glS = new window.glStats(); // init at any point\r\n    const plugins = [threeStats];\r\n    let config: any = {\r\n      css: [], // Our stylesheet is injected from AFrame.\r\n      values: {\r\n        framerate: { caption: \"Frame (ms)\", over: 19 }, //17 ms = 60fps\r\n      },\r\n      groups: [],\r\n      plugins: plugins,\r\n    };\r\n    /*for (let i = 0; i < this.worldService.getWorlds().length; i++) {\r\n      config.values[FrameLoop.name.toLowerCase() + \"-\" + i] = {\r\n        caption: FrameLoop.name + \" (ms)\",\r\n        over: 10,\r\n      };\r\n      config.values[ThreeLib.name.toLowerCase() + \"-\" + i] = {\r\n        caption: ThreeLib.name + \" (ms)\",\r\n      };\r\n      config.values[NavMeshPlayer.name.toLowerCase() + \"-\" + i] = {\r\n        caption: NavMeshPlayer.name + \" (ms)\",\r\n      };\r\n      config.values[DebugBtn.name.toLowerCase() + \"-\" + i] = {\r\n        caption: DebugBtn.name + \" (ms)\",\r\n      };\r\n      config.values[PerformanceRStats.name.toLowerCase() + \"-\" + i] = {\r\n        caption: PerformanceRStats.name + \" (ms)\",\r\n      };\r\n      //config.values[PortalsService.name.toLowerCase()+\"-\"+i] = { caption: PortalsService.name + \" (ms)\" };\r\n      config.groups.push({\r\n        caption: \"World - \" + i,\r\n        values: [\r\n          FrameLoop.name.toLowerCase() + \"-\" + i,\r\n          ThreeLib.name.toLowerCase() + \"-\" + i,\r\n          NavMeshPlayer.name.toLowerCase() + \"-\" + i,\r\n        ],\r\n        //PortalsService.name.toLowerCase()+\"-\"+i]\r\n      });\r\n    }*/\r\n    this.rS = new rStats(config);\r\n  }\r\n\r\n  updateWorldCallback() {\r\n    console.log(\"new world :\", this.worldService.getWorlds());\r\n    this.updateRstats();\r\n    /*this.worldService.getWorlds().forEach(async (world, index) => {\r\n      let services = world.getFirstComponentByType<Services>(Services.name);\r\n      let frameLoop = await services.getService<FrameLoop>(\r\n        \"@aptero/axolotis-core-plugins/frame/FrameLoop\"\r\n      );\r\n      frameLoop.setMonitoringCallback(\r\n        (name) => {\r\n          this.rS(name.toLowerCase() + \"-\" + index).start();\r\n        },\r\n        (name) => {\r\n          this.rS(name.toLowerCase() + \"-\" + index).end();\r\n        }\r\n      );\r\n    });*/\r\n  }\r\n\r\n  getType(): string {\r\n    return PerformanceRStats.name;\r\n  }\r\n}\r\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nwindow.glStats = function () {\n  var _rS = null;\n\n  var _totalDrawArraysCalls = 0,\n    _totalDrawElementsCalls = 0,\n    _totalUseProgramCalls = 0,\n    _totalFaces = 0,\n    _totalVertices = 0,\n    _totalPoints = 0,\n    _totalBindTexures = 0;\n\n  function _h(f, c) {\n    return function () {\n      c.apply(this, arguments);\n      f.apply(this, arguments);\n    };\n  }\n\n  WebGLRenderingContext.prototype.drawArrays = _h(\n    WebGLRenderingContext.prototype.drawArrays,\n    function () {\n      _totalDrawArraysCalls++;\n      if (arguments[0] == this.POINTS) _totalPoints += arguments[2];\n      else _totalVertices += arguments[2];\n    }\n  );\n\n  WebGLRenderingContext.prototype.drawElements = _h(\n    WebGLRenderingContext.prototype.drawElements,\n    function () {\n      _totalDrawElementsCalls++;\n      _totalFaces += arguments[1] / 3;\n      _totalVertices += arguments[1];\n    }\n  );\n\n  WebGLRenderingContext.prototype.useProgram = _h(\n    WebGLRenderingContext.prototype.useProgram,\n    function () {\n      _totalUseProgramCalls++;\n    }\n  );\n\n  WebGLRenderingContext.prototype.bindTexture = _h(\n    WebGLRenderingContext.prototype.bindTexture,\n    function () {\n      _totalBindTexures++;\n    }\n  );\n\n  var _values = {\n    allcalls: {\n      over: 3000,\n      caption: \"Calls (hook)\",\n    },\n    drawelements: {\n      caption: \"drawElements (hook)\",\n    },\n    drawarrays: {\n      caption: \"drawArrays (hook)\",\n    },\n  };\n\n  var _groups = [\n    {\n      caption: \"WebGL\",\n      values: [\n        \"allcalls\",\n        \"drawelements\",\n        \"drawarrays\",\n        \"useprogram\",\n        \"bindtexture\",\n        \"glfaces\",\n        \"glvertices\",\n        \"glpoints\",\n      ],\n    },\n  ];\n\n  var _fractions = [\n    {\n      base: \"allcalls\",\n      steps: [\"drawelements\", \"drawarrays\"],\n    },\n  ];\n\n  function _update() {\n    _rS(\"allcalls\").set(_totalDrawArraysCalls + _totalDrawElementsCalls);\n    _rS(\"drawElements\").set(_totalDrawElementsCalls);\n    _rS(\"drawArrays\").set(_totalDrawArraysCalls);\n    _rS(\"bindTexture\").set(_totalBindTexures);\n    _rS(\"useProgram\").set(_totalUseProgramCalls);\n    _rS(\"glfaces\").set(_totalFaces);\n    _rS(\"glvertices\").set(_totalVertices);\n    _rS(\"glpoints\").set(_totalPoints);\n  }\n\n  function _start() {\n    _totalDrawArraysCalls = 0;\n    _totalDrawElementsCalls = 0;\n    _totalUseProgramCalls = 0;\n    _totalFaces = 0;\n    _totalVertices = 0;\n    _totalPoints = 0;\n    _totalBindTexures = 0;\n  }\n\n  function _end() {}\n\n  function _attach(r) {\n    _rS = r;\n  }\n\n  return {\n    update: _update,\n    start: _start,\n    end: _end,\n    attach: _attach,\n    values: _values,\n    groups: _groups,\n    fractions: _fractions,\n  };\n};\n\nwindow.threeStats = function (renderer) {\n  var _rS = null;\n\n  var _values = {\n    \"renderer.info.memory.geometries\": {\n      caption: \"Geometries\",\n    },\n    \"renderer.info.memory.textures\": {\n      caption: \"Textures\",\n    },\n    \"renderer.info.programs\": {\n      caption: \"Programs\",\n    },\n    \"renderer.info.render.calls\": {\n      caption: \"Calls\",\n    },\n    \"renderer.info.render.triangles\": {\n      caption: \"Triangles\",\n      over: 300000,\n    },\n    \"renderer.info.render.points\": {\n      caption: \"Points\",\n    },\n  };\n\n  var _groups = [\n    {\n      caption: \"Three.js - Memory\",\n      values: [\n        \"renderer.info.memory.geometries\",\n        \"renderer.info.programs\",\n        \"renderer.info.memory.textures\",\n      ],\n    },\n    {\n      caption: \"Three.js - Render\",\n      values: [\n        \"renderer.info.render.calls\",\n        \"renderer.info.render.triangles\",\n        \"renderer.info.render.points\",\n      ],\n    },\n  ];\n\n  var _fractions = [];\n\n  function _update() {\n    _rS(\"renderer.info.memory.geometries\").set(renderer.info.memory.geometries);\n    _rS(\"renderer.info.programs\").set(renderer.info.programs.length);\n    _rS(\"renderer.info.memory.textures\").set(renderer.info.memory.textures);\n    _rS(\"renderer.info.render.calls\").set(renderer.info.render.calls);\n    _rS(\"renderer.info.render.triangles\").set(renderer.info.render.triangles);\n    _rS(\"renderer.info.render.points\").set(renderer.info.render.points);\n  }\n\n  function _start() {}\n\n  function _end() {}\n\n  function _attach(r) {\n    _rS = r;\n  }\n\n  return {\n    update: _update,\n    start: _start,\n    end: _end,\n    attach: _attach,\n    values: _values,\n    groups: _groups,\n    fractions: _fractions,\n  };\n};\n\n/*\n *   From https://github.com/paulirish/memory-stats.js\n */\n\nwindow.BrowserStats = function () {\n  var _rS = null;\n\n  var _usedJSHeapSize = 0,\n    _totalJSHeapSize = 0;\n\n  if (window.performance && !performance.memory) {\n    performance.memory = {\n      usedJSHeapSize: 0,\n      totalJSHeapSize: 0,\n    };\n  }\n\n  if (performance.memory.totalJSHeapSize === 0) {\n    console.warn(\n      \"totalJSHeapSize === 0... performance.memory is only available in Chrome .\"\n    );\n  }\n\n  var _values = {\n    memory: {\n      caption: \"Used Memory\",\n      average: true,\n      avgMs: 1000,\n      over: 22,\n    },\n    total: {\n      caption: \"Total Memory\",\n    },\n  };\n\n  var _groups = [\n    {\n      caption: \"Browser\",\n      values: [\"memory\", \"total\"],\n    },\n  ];\n\n  var _fractions = [\n    {\n      base: \"total\",\n      steps: [\"memory\"],\n    },\n  ];\n\n  var log1024 = Math.log(1024);\n\n  function _size(v) {\n    var precision = 100; //Math.pow(10, 2);\n    var i = Math.floor(Math.log(v) / log1024);\n    return Math.round((v * precision) / Math.pow(1024, i)) / precision; // + ' ' + sizes[i];\n  }\n\n  function _update() {\n    _usedJSHeapSize = _size(performance.memory.usedJSHeapSize);\n    _totalJSHeapSize = _size(performance.memory.totalJSHeapSize);\n\n    _rS(\"memory\").set(_usedJSHeapSize);\n    _rS(\"total\").set(_totalJSHeapSize);\n  }\n\n  function _start() {\n    _usedJSHeapSize = 0;\n  }\n\n  function _end() {}\n\n  function _attach(r) {\n    _rS = r;\n  }\n\n  return {\n    update: _update,\n    start: _start,\n    end: _end,\n    attach: _attach,\n    values: _values,\n    groups: _groups,\n    fractions: _fractions,\n  };\n};\n\nif (typeof module === \"object\") {\n  module.exports = {\n    glStats: window.glStats,\n    threeStats: window.threeStats,\n    BrowserStats: window.BrowserStats,\n  };\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n// performance.now() polyfill from https://gist.github.com/paulirish/5438650\n\"use strict\";\n\n(function () {\n  if (\"performance\" in window == false) {\n    window.performance = {};\n  }\n\n  var performance = window.performance;\n\n  if (\"now\" in performance == false) {\n    var nowOffset = Date.now();\n\n    if (performance.timing && performance.timing.navigationStart) {\n      nowOffset = performance.timing.navigationStart;\n    }\n\n    performance.now = function now() {\n      return Date.now() - nowOffset;\n    };\n  }\n\n  if (!performance.mark) {\n    performance.mark = function () {};\n  }\n\n  if (!performance.measure) {\n    performance.measure = function () {};\n  }\n})();\n\nwindow.rStats = function rStats(settings) {\n  function iterateKeys(array, callback) {\n    var keys = Object.keys(array);\n    for (var j = 0, l = keys.length; j < l; j++) {\n      callback(keys[j]);\n    }\n  }\n\n  function importCSS(url) {\n    var element = document.createElement(\"link\");\n    element.href = url;\n    element.rel = \"stylesheet\";\n    element.type = \"text/css\";\n    document.getElementsByTagName(\"head\")[0].appendChild(element);\n  }\n\n  var _settings = settings || {};\n  var _colours = _settings.colours || [\n    \"#850700\",\n    \"#c74900\",\n    \"#fcb300\",\n    \"#284280\",\n    \"#4c7c0c\",\n  ];\n\n  var _cssFont =\n    \"https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300\";\n  var _cssRStats = (_settings.CSSPath ? _settings.CSSPath : \"\") + \"rStats.css\";\n\n  var _css = _settings.css || [_cssFont, _cssRStats];\n  _css.forEach(function (uri) {\n    importCSS(uri);\n  });\n\n  if (!_settings.values) _settings.values = {};\n\n  var _base,\n    _div,\n    _elHeight = 10,\n    _elWidth = 200;\n  var _perfCounters = {};\n\n  function Graph(_dom, _id, _defArg) {\n    var _def = _defArg || {};\n    var _canvas = document.createElement(\"canvas\"),\n      _ctx = _canvas.getContext(\"2d\"),\n      _max = 0,\n      _current = 0;\n\n    var c = _def.color ? _def.color : \"#666666\";\n\n    var _dotCanvas = document.createElement(\"canvas\"),\n      _dotCtx = _dotCanvas.getContext(\"2d\");\n    _dotCanvas.width = 1;\n    _dotCanvas.height = 2 * _elHeight;\n    _dotCtx.fillStyle = \"#444444\";\n    _dotCtx.fillRect(0, 0, 1, 2 * _elHeight);\n    _dotCtx.fillStyle = c;\n    _dotCtx.fillRect(0, _elHeight, 1, _elHeight);\n    _dotCtx.fillStyle = \"#ffffff\";\n    _dotCtx.globalAlpha = 0.5;\n    _dotCtx.fillRect(0, _elHeight, 1, 1);\n    _dotCtx.globalAlpha = 1;\n\n    var _alarmCanvas = document.createElement(\"canvas\"),\n      _alarmCtx = _alarmCanvas.getContext(\"2d\");\n    _alarmCanvas.width = 1;\n    _alarmCanvas.height = 2 * _elHeight;\n    _alarmCtx.fillStyle = \"#444444\";\n    _alarmCtx.fillRect(0, 0, 1, 2 * _elHeight);\n    _alarmCtx.fillStyle = \"#b70000\";\n    _alarmCtx.fillRect(0, _elHeight, 1, _elHeight);\n    _alarmCtx.globalAlpha = 0.5;\n    _alarmCtx.fillStyle = \"#ffffff\";\n    _alarmCtx.fillRect(0, _elHeight, 1, 1);\n    _alarmCtx.globalAlpha = 1;\n\n    function _init() {\n      _canvas.width = _elWidth;\n      _canvas.height = _elHeight;\n      _canvas.style.width = _canvas.width + \"px\";\n      _canvas.style.height = _canvas.height + \"px\";\n      _canvas.className = \"rs-canvas\";\n      _dom.appendChild(_canvas);\n\n      _ctx.fillStyle = \"#444444\";\n      _ctx.fillRect(0, 0, _canvas.width, _canvas.height);\n    }\n\n    function _draw(v, alarm) {\n      _current += (v - _current) * 0.1;\n      _max *= 0.99;\n      if (_current > _max) _max = _current;\n      _ctx.drawImage(\n        _canvas,\n        1,\n        0,\n        _canvas.width - 1,\n        _canvas.height,\n        0,\n        0,\n        _canvas.width - 1,\n        _canvas.height\n      );\n      if (alarm) {\n        _ctx.drawImage(\n          _alarmCanvas,\n          _canvas.width - 1,\n          _canvas.height - (_current * _canvas.height) / _max - _elHeight\n        );\n      } else {\n        _ctx.drawImage(\n          _dotCanvas,\n          _canvas.width - 1,\n          _canvas.height - (_current * _canvas.height) / _max - _elHeight\n        );\n      }\n    }\n\n    _init();\n\n    return {\n      draw: _draw,\n    };\n  }\n\n  function StackGraph(_dom, _num) {\n    var _canvas = document.createElement(\"canvas\"),\n      _ctx = _canvas.getContext(\"2d\");\n\n    function _init() {\n      _canvas.width = _elWidth;\n      _canvas.height = _elHeight * _num;\n      _canvas.style.width = _canvas.width + \"px\";\n      _canvas.style.height = _canvas.height + \"px\";\n      _canvas.className = \"rs-canvas\";\n      _dom.appendChild(_canvas);\n\n      _ctx.fillStyle = \"#444444\";\n      _ctx.fillRect(0, 0, _canvas.width, _canvas.height);\n    }\n\n    function _draw(v) {\n      _ctx.drawImage(\n        _canvas,\n        1,\n        0,\n        _canvas.width - 1,\n        _canvas.height,\n        0,\n        0,\n        _canvas.width - 1,\n        _canvas.height\n      );\n      var th = 0;\n      iterateKeys(v, function (j) {\n        var h = v[j] * _canvas.height;\n        _ctx.fillStyle = _colours[j];\n        _ctx.fillRect(_canvas.width - 1, th, 1, h);\n        th += h;\n      });\n    }\n\n    _init();\n\n    return {\n      draw: _draw,\n    };\n  }\n\n  function PerfCounter(id, group) {\n    var _id = id,\n      _time,\n      _value = 0,\n      _total = 0,\n      _averageValue = 0,\n      _accumValue = 0,\n      _accumStart = performance.now(),\n      _accumSamples = 0,\n      _dom = document.createElement(\"div\"),\n      _spanId = document.createElement(\"span\"),\n      _spanValue = document.createElement(\"div\"),\n      _spanValueText = document.createTextNode(\"\"),\n      _def = _settings ? _settings.values[_id.toLowerCase()] : null,\n      _graph = new Graph(_dom, _id, _def),\n      _started = false;\n\n    _spanId.className = \"rs-counter-id\";\n    _spanId.textContent = _def && _def.caption ? _def.caption : _id;\n\n    _spanValue.className = \"rs-counter-value\";\n    _spanValue.appendChild(_spanValueText);\n\n    _dom.appendChild(_spanId);\n    _dom.appendChild(_spanValue);\n    if (group) group.div.appendChild(_dom);\n    else _div.appendChild(_dom);\n\n    _time = performance.now();\n\n    function _average(v) {\n      if (_def && _def.average) {\n        _accumValue += v;\n        _accumSamples++;\n        var t = performance.now();\n        if (t - _accumStart >= (_def.avgMs || 1000)) {\n          _averageValue = _accumValue / _accumSamples;\n          _accumValue = 0;\n          _accumStart = t;\n          _accumSamples = 0;\n        }\n      }\n    }\n\n    function _start() {\n      _time = performance.now();\n      if (_settings.userTimingAPI) performance.mark(_id + \"-start\");\n      _started = true;\n    }\n\n    function _end() {\n      _value = performance.now() - _time;\n      if (_settings.userTimingAPI) {\n        performance.mark(_id + \"-end\");\n        if (_started) {\n          performance.measure(_id, _id + \"-start\", _id + \"-end\");\n        }\n      }\n      _average(_value);\n    }\n\n    function _tick() {\n      _end();\n      _start();\n    }\n\n    function _draw() {\n      var v = _def && _def.average ? _averageValue : _value;\n      _spanValueText.nodeValue = Math.round(v * 100) / 100;\n      var a =\n        _def &&\n        ((_def.below && _value < _def.below) ||\n          (_def.over && _value > _def.over));\n      _graph.draw(_value, a);\n      _dom.className = a ? \"rs-counter-base alarm\" : \"rs-counter-base\";\n    }\n\n    function _frame() {\n      var t = performance.now();\n      var e = t - _time;\n      _total++;\n      if (e > 1000) {\n        if (_def && _def.interpolate === false) {\n          _value = _total;\n        } else {\n          _value = (_total * 1000) / e;\n        }\n        _total = 0;\n        _time = t;\n        _average(_value);\n      }\n    }\n\n    function _set(v) {\n      _value = v;\n      _average(_value);\n    }\n\n    return {\n      set: _set,\n      start: _start,\n      tick: _tick,\n      end: _end,\n      frame: _frame,\n      value: function () {\n        return _value;\n      },\n      draw: _draw,\n    };\n  }\n\n  function sample() {\n    var _value = 0;\n\n    function _set(v) {\n      _value = v;\n    }\n\n    return {\n      set: _set,\n      value: function () {\n        return _value;\n      },\n    };\n  }\n\n  function _perf(idArg) {\n    var id = idArg.toLowerCase();\n    if (id === undefined) id = \"default\";\n    if (_perfCounters[id]) return _perfCounters[id];\n\n    var group = null;\n    if (_settings && _settings.groups) {\n      iterateKeys(_settings.groups, function (j) {\n        var g = _settings.groups[parseInt(j, 10)];\n        if (!group && g.values.indexOf(id.toLowerCase()) !== -1) {\n          group = g;\n        }\n      });\n    }\n\n    var p = new PerfCounter(id, group);\n    _perfCounters[id] = p;\n    return p;\n  }\n\n  function _init() {\n    if (_settings.plugins) {\n      if (!_settings.values) _settings.values = {};\n      if (!_settings.groups) _settings.groups = [];\n      if (!_settings.fractions) _settings.fractions = [];\n      for (var j = 0; j < _settings.plugins.length; j++) {\n        _settings.plugins[j].attach(_perf);\n        iterateKeys(_settings.plugins[j].values, function (k) {\n          _settings.values[k] = _settings.plugins[j].values[k];\n        });\n        _settings.groups = _settings.groups.concat(_settings.plugins[j].groups);\n        _settings.fractions = _settings.fractions.concat(\n          _settings.plugins[j].fractions\n        );\n      }\n    } else {\n      _settings.plugins = {};\n    }\n\n    _base = document.createElement(\"div\");\n    _base.className = \"rs-base\";\n    _div = document.createElement(\"div\");\n    _div.className = \"rs-container\";\n    _div.style.height = \"auto\";\n    _base.appendChild(_div);\n    document.body.appendChild(_base);\n\n    if (!_settings) return;\n\n    if (_settings.groups) {\n      iterateKeys(_settings.groups, function (j) {\n        var g = _settings.groups[parseInt(j, 10)];\n        var div = document.createElement(\"div\");\n        div.className = \"rs-group\";\n        g.div = div;\n        var h1 = document.createElement(\"h1\");\n        h1.textContent = g.caption;\n        h1.addEventListener(\n          \"click\",\n          function (e) {\n            this.classList.toggle(\"hidden\");\n            e.preventDefault();\n          }.bind(div)\n        );\n        _div.appendChild(h1);\n        _div.appendChild(div);\n      });\n    }\n\n    if (_settings.fractions) {\n      iterateKeys(_settings.fractions, function (j) {\n        var f = _settings.fractions[parseInt(j, 10)];\n        var div = document.createElement(\"div\");\n        div.className = \"rs-fraction\";\n        var legend = document.createElement(\"div\");\n        legend.className = \"rs-legend\";\n\n        var h = 0;\n        iterateKeys(_settings.fractions[j].steps, function (k) {\n          var p = document.createElement(\"p\");\n          p.textContent = _settings.fractions[j].steps[k];\n          p.style.color = _colours[h];\n          legend.appendChild(p);\n          h++;\n        });\n        div.appendChild(legend);\n        div.style.height = h * _elHeight + \"px\";\n        f.div = div;\n        var graph = new StackGraph(div, h);\n        f.graph = graph;\n        _div.appendChild(div);\n      });\n    }\n  }\n\n  function _update() {\n    iterateKeys(_settings.plugins, function (j) {\n      _settings.plugins[j].update();\n    });\n\n    iterateKeys(_perfCounters, function (j) {\n      _perfCounters[j].draw();\n    });\n\n    if (_settings && _settings.fractions) {\n      iterateKeys(_settings.fractions, function (j) {\n        var f = _settings.fractions[parseInt(j, 10)];\n        var v = [];\n        var base = _perfCounters[f.base.toLowerCase()];\n        if (base) {\n          base = base.value();\n          iterateKeys(_settings.fractions[j].steps, function (k) {\n            var s = _settings.fractions[j].steps[parseInt(k, 10)].toLowerCase();\n            var val = _perfCounters[s];\n            if (val) {\n              v.push(val.value() / base);\n            }\n          });\n        }\n        f.graph.draw(v);\n      });\n    }\n\n    /*if( _height != _div.clientHeight ) {\n            _height = _div.clientHeight;\n            _base.style.height = _height + 2 * _elHeight + 'px';\n        console.log( _base.clientHeight );\n        }*/\n  }\n\n  _init();\n\n  return function (id) {\n    if (id) return _perf(id);\n    return {\n      element: _base,\n      update: _update,\n    };\n  };\n};\n\nif (typeof module === \"object\") {\n  module.exports = window.rStats;\n}\n","var Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time >= prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport default Stats;\n"],"names":["rStats","require","Factory","services","threeLib","getService","frameLoop","worldService","PerformanceRStats","constructor","window","perfStatSingletonPresent","console","warn","stats","Stats","showPanel","document","body","appendChild","dom","this","updateRstats","insertAdjacentHTML","isActiveWorld","animate","t","requestAnimationFrame","update","rS","end","start","addOnWorldAdded","updateWorldCallback","elementsByClassName","getElementsByClassName","length","remove","config","css","values","framerate","caption","over","groups","plugins","threeStats","renderer","log","getWorlds","getType","name","glStats","_rS","_totalDrawArraysCalls","_totalDrawElementsCalls","_totalUseProgramCalls","_totalFaces","_totalVertices","_totalPoints","_totalBindTexures","_h","f","c","apply","arguments","WebGLRenderingContext","prototype","drawArrays","POINTS","drawElements","useProgram","bindTexture","set","attach","r","allcalls","drawelements","drawarrays","fractions","base","steps","info","memory","geometries","programs","textures","render","calls","triangles","points","BrowserStats","_usedJSHeapSize","_totalJSHeapSize","performance","usedJSHeapSize","totalJSHeapSize","log1024","Math","_size","v","i","floor","round","pow","average","avgMs","total","module","exports","nowOffset","Date","now","timing","navigationStart","mark","measure","settings","iterateKeys","array","callback","keys","Object","j","l","_settings","_colours","colours","_cssRStats","CSSPath","forEach","uri","url","element","createElement","href","rel","type","getElementsByTagName","_base","_div","_elHeight","_perfCounters","Graph","_dom","_id","_defArg","_def","_canvas","_ctx","getContext","_max","_current","color","_dotCanvas","_dotCtx","width","height","fillStyle","fillRect","globalAlpha","_alarmCanvas","_alarmCtx","style","className","draw","alarm","drawImage","StackGraph","_num","th","h","PerfCounter","id","group","_time","_value","_total","_averageValue","_accumValue","_accumStart","_accumSamples","_spanId","_spanValue","_spanValueText","createTextNode","toLowerCase","_graph","_started","_average","_start","userTimingAPI","_end","textContent","div","tick","frame","e","interpolate","value","nodeValue","a","below","_perf","idArg","undefined","g","parseInt","indexOf","p","_update","k","s","val","push","graph","concat","h1","addEventListener","classList","toggle","preventDefault","bind","legend","_init","mode","container","addPanel","panel","children","display","cssText","event","beginTime","prevTime","frames","fpsPanel","Panel","msPanel","self","memPanel","REVISION","begin","time","jsHeapSizeLimit","domElement","setMode","fg","bg","min","Infinity","max","PR","devicePixelRatio","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","canvas","context","font","textBaseline","fillText","maxValue"],"sourceRoot":""}