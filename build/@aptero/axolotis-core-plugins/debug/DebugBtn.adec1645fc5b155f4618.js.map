{"version":3,"file":"@aptero/axolotis-core-plugins/debug/DebugBtn.adec1645fc5b155f4618.js","mappings":";;;;;;;;;;;6MAOO,MAAMA,EACQ,oBAACC,GAClB,IAAIC,QAAkBD,EAASE,WAC7B,iDAEF,OAAO,IAAIC,EAASF,EAAWD,IAI5B,MAAMG,EACXC,YAAYH,EAAsBI,GAgBhCC,OAAOC,SAASC,KAAKC,mBAAmB,YAdtC,uYAeF,IAAIC,EAAcJ,OAAOC,SAASI,eAAe,aAC7CD,IACFA,EAAYE,QAAWC,IACrBA,EAAIC,kBACJD,EAAIE,iBACJV,EAAcH,WACZ,yDAGJD,EAAUe,QAAQb,EAASc,MAAOC,IAC/BR,EAAoBS,UACnBC,KAAKC,MAAO,EAAMH,EAAS,KAAQ,WAGrCZ,OAAOgB,SAASC,KAAKC,WAAW,cAClCnB,EAAcH,WACZ,wDAKNuB,UACE,OAAOtB,EAASc","sources":["webpack://axolotis-core-plugins/./src/lib/modules/debug/DebugBtn.ts"],"sourcesContent":["import Component from \"@aptero/axolotis-player/build/types/modules/core/ecs/Component\";\nimport { PerformanceStats } from \"@root/lib/modules/debug/PerformanceStats\";\nimport {WebpackLazyModule} from \"@root/lib/generated/webpack/WebpackLoader\";\nimport {Service} from \"@aptero/axolotis-player/build/types/modules/core/ecs/Service\";\nimport {LazyServices} from \"@aptero/axolotis-player/build/types\";\nimport {FrameLoop} from \"@root/lib/modules/frame/FrameLoop\";\n\nexport class Factory implements WebpackLazyModule, Service<DebugBtn> {\n  async createService(services: LazyServices): Promise<DebugBtn> {\n    let frameLoop = await services.getService<FrameLoop>(\n      \"@aptero/axolotis-core-plugins/frame/FrameLoop\"\n    );\n    return new DebugBtn(frameLoop, services);\n  }\n}\n\nexport class DebugBtn implements Component {\n  constructor(frameLoop: FrameLoop, serviceEntity: LazyServices) {\n    let html =\n      '<div id=\"debug-btn\" style=\"display: block;\\n' +\n      \"    font-family: monospace;\\n\" +\n      \"    cursor: pointer;\\n\" +\n      \"    position: absolute;\\n\" +\n      \"    bottom: 0;\\n\" +\n      \"    right: 2px;\\n\" +\n      \"    padding: 4px 8px;\\n\" +\n      \"    color: #fff;\\n\" +\n      \"    text-shadow: 1px 1px 1px rgba(0,0,0,.5);\\n\" +\n      \"    font-size: 10px;\\n\" +\n      \"    -moz-user-select: none;\\n\" +\n      \"    -webkit-user-select: none;\\n\" +\n      \"    -ms-user-select: none;\\n\" +\n      '    user-select: none\" >60 FPS</div>';\n    window.document.body.insertAdjacentHTML(\"beforeend\", html);\n    let elementById = window.document.getElementById(\"debug-btn\");\n    if (elementById) {\n      elementById.onclick = (evt) => {\n        evt.stopPropagation();\n        evt.preventDefault();\n        serviceEntity.getService<PerformanceStats>(\n          \"@aptero/axolotis-core-plugins/debug/PerformanceStats\"\n        );\n      };\n      frameLoop.addLoop(DebugBtn.name, (delta) => {\n        (elementById as any).innerText =\n          Math.round((1.0 / delta) * 1000) + \" FPS\";\n      });\n    }\n    if (window.location.host.startsWith(\"localhost\")) {\n      serviceEntity.getService<PerformanceStats>(\n        \"@aptero/axolotis-core-plugins/debug/PerformanceStats\"\n      );\n    }\n  }\n\n  getType(): string {\n    return DebugBtn.name;\n  }\n}\n"],"names":["Factory","services","frameLoop","getService","DebugBtn","constructor","serviceEntity","window","document","body","insertAdjacentHTML","elementById","getElementById","onclick","evt","stopPropagation","preventDefault","addLoop","name","delta","innerText","Math","round","location","host","startsWith","getType"],"sourceRoot":""}