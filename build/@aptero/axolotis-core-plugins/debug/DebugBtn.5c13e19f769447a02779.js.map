{"version":3,"file":"@aptero/axolotis-core-plugins/debug/DebugBtn.5c13e19f769447a02779.js","mappings":";;;;;;;;;;;0NAQO,MAAMA,EACU,sBAACC,EAAoBC,GACxC,IAAIC,EAAWF,EAAMG,wBAAkCC,EAAAA,SAAAA,MACnDC,QAAkBH,EAASI,WAC7B,iDAEF,OAAO,IAAIC,EAASF,EAAWH,IAI5B,MAAMK,EACXC,YAAYH,EAAsBH,GAgBhCO,OAAOC,SAASC,KAAKC,mBAAmB,YAdtC,uYAeF,IAAIC,EAAcJ,OAAOC,SAASI,eAAe,aAC7CD,IACFA,EAAYE,QAAWC,IACrBA,EAAIC,kBACJD,EAAIE,iBACJhB,EAASI,WACP,yDAGJD,EAAUc,QAAQZ,EAASa,MAAOC,IAC/BR,EAAoBS,UACnBC,KAAKC,MAAO,EAAMH,EAAS,KAAQ,UAEnCZ,OAAOgB,SAASC,KAAKC,WAAW,cAClCzB,EAASI,WACP,yDAMRsB,UACE,OAAOrB,EAASa","sources":["webpack://axolotis-core-plugins/./src/lib/modules/debug/DebugBtn.ts"],"sourcesContent":["import Component from \"@aptero/axolotis-player\";\nimport { PerformanceStats } from \"@root/lib/modules/debug/PerformanceStats\";\nimport { WebpackLazyModule } from \"@root/lib/generated/webpack/WebpackLoader\";\nimport { LazyServices, WorldEntity } from \"@aptero/axolotis-player\";\nimport { FrameLoop } from \"@root/lib/modules/frame/FrameLoop\";\nimport { ComponentFactory } from \"@aptero/axolotis-player\";\nimport { Services } from \"@aptero/axolotis-player\";\n\nexport class Factory implements WebpackLazyModule, ComponentFactory<DebugBtn> {\n  async createComponent(world: WorldEntity, params: any): Promise<DebugBtn> {\n    let services = world.getFirstComponentByType<Services>(Services.name);\n    let frameLoop = await services.getService<FrameLoop>(\n      \"@aptero/axolotis-core-plugins/frame/FrameLoop\"\n    );\n    return new DebugBtn(frameLoop, services);\n  }\n}\n\nexport class DebugBtn implements Component {\n  constructor(frameLoop: FrameLoop, services: LazyServices) {\n    let html =\n      '<div id=\"debug-btn\" style=\"display: block;\\n' +\n      \"    font-family: monospace;\\n\" +\n      \"    cursor: pointer;\\n\" +\n      \"    position: absolute;\\n\" +\n      \"    bottom: 0;\\n\" +\n      \"    right: 2px;\\n\" +\n      \"    padding: 4px 8px;\\n\" +\n      \"    color: #fff;\\n\" +\n      \"    text-shadow: 1px 1px 1px rgba(0,0,0,.5);\\n\" +\n      \"    font-size: 10px;\\n\" +\n      \"    -moz-user-select: none;\\n\" +\n      \"    -webkit-user-select: none;\\n\" +\n      \"    -ms-user-select: none;\\n\" +\n      '    user-select: none\" >60 FPS</div>';\n    window.document.body.insertAdjacentHTML(\"beforeend\", html);\n    let elementById = window.document.getElementById(\"debug-btn\");\n    if (elementById) {\n      elementById.onclick = (evt) => {\n        evt.stopPropagation();\n        evt.preventDefault();\n        services.getService<PerformanceStats>(\n          \"@aptero/axolotis-core-plugins/debug/PerformanceStats\"\n        );\n      };\n      frameLoop.addLoop(DebugBtn.name, (delta) => {\n        (elementById as any).innerText =\n          Math.round((1.0 / delta) * 1000) + \" FPS\";\n      });\n      if (window.location.host.startsWith(\"localhost\")) {\n        services.getService<PerformanceStats>(\n          \"@aptero/axolotis-core-plugins/debug/PerformanceStats\"\n        );\n      }\n    }\n  }\n\n  getType(): string {\n    return DebugBtn.name;\n  }\n}\n"],"names":["Factory","world","params","services","getFirstComponentByType","Services","frameLoop","getService","DebugBtn","constructor","window","document","body","insertAdjacentHTML","elementById","getElementById","onclick","evt","stopPropagation","preventDefault","addLoop","name","delta","innerText","Math","round","location","host","startsWith","getType"],"sourceRoot":""}