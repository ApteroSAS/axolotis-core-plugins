{"version":3,"file":"@aptero/axolotis-core-plugins/debug/DebugBtn.9c6e2b9efb9f3cf2b3d6.js","mappings":";;;;;;;;;;;0NAQO,MAAMA,EACU,sBAACC,EAAoBC,GACxC,IAAIC,EAAWF,EAAMG,wBAAkCC,EAAAA,SAAAA,MACnDC,QAAkBH,EAASI,WAC7B,iDAEF,OAAO,IAAIC,EAASF,EAAWH,IAI5B,MAAMK,EACXC,YAAYH,EAAsBH,GAgBhCO,OAAOC,SAASC,KAAKC,mBAAmB,YAdtC,uYAeF,IAAIC,EAAcJ,OAAOC,SAASI,eAAe,aAC7CD,IACFA,EAAYE,QAAWC,IACrBA,EAAIC,kBACJD,EAAIE,iBACJhB,EAASI,WACP,yDAGJD,EAAUc,QAAQZ,EAASa,MAAOC,IAC/BR,EAAoBS,UACnBC,KAAKC,MAAO,EAAMH,EAAS,KAAQ,UAEnCZ,OAAOgB,SAASC,KAAKC,WAAW,cAClCzB,EAASI,WACP,yDAMRsB,UACE,OAAOrB,EAASa","sources":["webpack://axolotis-core-plugins/./src/lib/modules/debug/DebugBtn.ts"],"sourcesContent":["import { Component } from \"@aptero/axolotis-player\";\r\nimport { PerformanceStats } from \"@root/lib/modules/debug/PerformanceStats\";\r\nimport { WebpackLazyModule } from \"@root/lib/generated/webpack/WebpackLoader\";\r\nimport { LazyServices, WorldEntity } from \"@aptero/axolotis-player\";\r\nimport { FrameLoop } from \"@root/lib/modules/frame/FrameLoop\";\r\nimport { ComponentFactory } from \"@aptero/axolotis-player\";\r\nimport { Services } from \"@aptero/axolotis-player\";\r\n\r\nexport class Factory implements WebpackLazyModule, ComponentFactory<DebugBtn> {\r\n  async createComponent(world: WorldEntity, params: any): Promise<DebugBtn> {\r\n    let services = world.getFirstComponentByType<Services>(Services.name);\r\n    let frameLoop = await services.getService<FrameLoop>(\r\n      \"@aptero/axolotis-core-plugins/frame/FrameLoop\"\r\n    );\r\n    return new DebugBtn(frameLoop, services);\r\n  }\r\n}\r\n\r\nexport class DebugBtn implements Component {\r\n  constructor(frameLoop: FrameLoop, services: LazyServices) {\r\n    let html =\r\n      '<div id=\"debug-btn\" style=\"display: block;\\n' +\r\n      \"    font-family: monospace;\\n\" +\r\n      \"    cursor: pointer;\\n\" +\r\n      \"    position: absolute;\\n\" +\r\n      \"    bottom: 0;\\n\" +\r\n      \"    right: 2px;\\n\" +\r\n      \"    padding: 4px 8px;\\n\" +\r\n      \"    color: #fff;\\n\" +\r\n      \"    text-shadow: 1px 1px 1px rgba(0,0,0,.5);\\n\" +\r\n      \"    font-size: 10px;\\n\" +\r\n      \"    -moz-user-select: none;\\n\" +\r\n      \"    -webkit-user-select: none;\\n\" +\r\n      \"    -ms-user-select: none;\\n\" +\r\n      '    user-select: none\" >60 FPS</div>';\r\n    window.document.body.insertAdjacentHTML(\"beforeend\", html);\r\n    let elementById = window.document.getElementById(\"debug-btn\");\r\n    if (elementById) {\r\n      elementById.onclick = (evt) => {\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n        services.getService<PerformanceStats>(\r\n          \"@aptero/axolotis-core-plugins/debug/PerformanceStats\"\r\n        );\r\n      };\r\n      frameLoop.addLoop(DebugBtn.name, (delta) => {\r\n        (elementById as any).innerText =\r\n          Math.round((1.0 / delta) * 1000) + \" FPS\";\r\n      });\r\n      if (window.location.host.startsWith(\"localhost\")) {\r\n        services.getService<PerformanceStats>(\r\n          \"@aptero/axolotis-core-plugins/debug/PerformanceStats\"\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  getType(): string {\r\n    return DebugBtn.name;\r\n  }\r\n}\r\n"],"names":["Factory","world","params","services","getFirstComponentByType","Services","frameLoop","getService","DebugBtn","constructor","window","document","body","insertAdjacentHTML","elementById","getElementById","onclick","evt","stopPropagation","preventDefault","addLoop","name","delta","innerText","Math","round","location","host","startsWith","getType"],"sourceRoot":""}