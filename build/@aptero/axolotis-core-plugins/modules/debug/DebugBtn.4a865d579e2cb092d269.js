/*!
 * 
 *   @aptero/axolotis-core-plugins v1.0.0
 *   https://github.com/ApteroSAS/axolotis-player
 *
 *   Copyright (c) Aptero (https://github.com/ApteroSAS/axolotis-player) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
"use strict";(self.webpackChunkaxolotis_core_plugins=self.webpackChunkaxolotis_core_plugins||[]).push([["@aptero/axolotis-core-plugins/modules/debug/DebugBtn"],{"./src/lib/modules/debug/DebugBtn.ts":
/*!*******************************************!*\
  !*** ./src/lib/modules/debug/DebugBtn.ts ***!
  \*******************************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "DebugBtn": function() { return /* binding */ DebugBtn; },\n/* harmony export */   "Factory": function() { return /* binding */ Factory; }\n/* harmony export */ });\nclass Factory {\n  async createService(services) {\n    let frameLoop = await services.getService("@aptero/axolotis-player/modules/FrameLoop");\n    return new DebugBtn(frameLoop, services);\n  }\n\n}\nclass DebugBtn {\n  constructor(frameLoop, serviceEntity) {\n    let html = \'<div id="debug-btn" style="display: block;\\n\' + "    font-family: monospace;\\n" + "    cursor: pointer;\\n" + "    position: absolute;\\n" + "    bottom: 0;\\n" + "    right: 2px;\\n" + "    padding: 4px 8px;\\n" + "    color: #fff;\\n" + "    text-shadow: 1px 1px 1px rgba(0,0,0,.5);\\n" + "    font-size: 10px;\\n" + "    -moz-user-select: none;\\n" + "    -webkit-user-select: none;\\n" + "    -ms-user-select: none;\\n" + \'    user-select: none" >60 FPS</div>\';\n    window.document.body.insertAdjacentHTML("beforeend", html);\n    let elementById = window.document.getElementById("debug-btn");\n\n    if (elementById) {\n      elementById.onclick = evt => {\n        evt.stopPropagation();\n        evt.preventDefault();\n        serviceEntity.getService("@aptero/axolotis-core-plugins/modules/debug/PerformanceStats");\n      };\n\n      frameLoop.addLoop(DebugBtn.name, delta => {\n        elementById.innerText = Math.round(1.0 / delta * 1000) + " FPS";\n      });\n    }\n\n    if (window.location.host.startsWith("localhost")) {\n      serviceEntity.getService("@aptero/axolotis-core-plugins/modules/debug/PerformanceStats");\n    }\n  }\n\n  getType() {\n    return DebugBtn.name;\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL21vZHVsZXMvZGVidWcvRGVidWdCdG4udHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFTTyxNQUFNQSxPQUFOLENBQThEO0FBQ2hELFFBQWJDLGFBQWEsQ0FBQ0MsUUFBRCxFQUE0QztBQUM3RCxRQUFJQyxTQUFTLEdBQUcsTUFBTUQsUUFBUSxDQUFDRSxVQUFULENBQ3BCLDJDQURvQixDQUF0QjtBQUdBLFdBQU8sSUFBSUMsUUFBSixDQUFhRixTQUFiLEVBQXdCRCxRQUF4QixDQUFQO0FBQ0Q7O0FBTmtFO0FBUzlELE1BQU1HLFFBQU4sQ0FBb0M7QUFDekNDLEVBQUFBLFdBQVcsQ0FBQ0gsU0FBRCxFQUF1QkksYUFBdkIsRUFBb0Q7QUFDN0QsUUFBSUMsSUFBSSxHQUNOLGlEQUNBLCtCQURBLEdBRUEsd0JBRkEsR0FHQSwyQkFIQSxHQUlBLGtCQUpBLEdBS0EsbUJBTEEsR0FNQSx5QkFOQSxHQU9BLG9CQVBBLEdBUUEsZ0RBUkEsR0FTQSx3QkFUQSxHQVVBLCtCQVZBLEdBV0Esa0NBWEEsR0FZQSw4QkFaQSxHQWFBLHNDQWRGO0FBZUFDLElBQUFBLE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQkMsSUFBaEIsQ0FBcUJDLGtCQUFyQixDQUF3QyxXQUF4QyxFQUFxREosSUFBckQ7QUFDQSxRQUFJSyxXQUFXLEdBQUdKLE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQkksY0FBaEIsQ0FBK0IsV0FBL0IsQ0FBbEI7O0FBQ0EsUUFBSUQsV0FBSixFQUFpQjtBQUNmQSxNQUFBQSxXQUFXLENBQUNFLE9BQVosR0FBdUJDLEdBQUQsSUFBUztBQUM3QkEsUUFBQUEsR0FBRyxDQUFDQyxlQUFKO0FBQ0FELFFBQUFBLEdBQUcsQ0FBQ0UsY0FBSjtBQUNBWCxRQUFBQSxhQUFhLENBQUNILFVBQWQsQ0FDRSw4REFERjtBQUdELE9BTkQ7O0FBT0FELE1BQUFBLFNBQVMsQ0FBQ2dCLE9BQVYsQ0FBa0JkLFFBQVEsQ0FBQ2UsSUFBM0IsRUFBa0NDLEtBQUQsSUFBVztBQUN6Q1IsUUFBQUEsV0FBRCxDQUFxQlMsU0FBckIsR0FDRUMsSUFBSSxDQUFDQyxLQUFMLENBQVksTUFBTUgsS0FBUCxHQUFnQixJQUEzQixJQUFtQyxNQURyQztBQUVELE9BSEQ7QUFJRDs7QUFDRCxRQUFJWixNQUFNLENBQUNnQixRQUFQLENBQWdCQyxJQUFoQixDQUFxQkMsVUFBckIsQ0FBZ0MsV0FBaEMsQ0FBSixFQUFrRDtBQUNoRHBCLE1BQUFBLGFBQWEsQ0FBQ0gsVUFBZCxDQUNFLDhEQURGO0FBR0Q7QUFDRjs7QUFFRHdCLEVBQUFBLE9BQU8sR0FBVztBQUNoQixXQUFPdkIsUUFBUSxDQUFDZSxJQUFoQjtBQUNEOztBQXpDd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9heG9sb3Rpcy1jb3JlLXBsdWdpbnMvLi9zcmMvbGliL21vZHVsZXMvZGVidWcvRGVidWdCdG4udHM/Yjg0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXZWJwYWNrTGF6eU1vZHVsZSB9IGZyb20gXCJAYXB0ZXJvL2F4b2xvdGlzLXBsYXllci9idWlsZC90eXBlcy9tb2R1bGVzL2NvcmUvbG9hZGVyL1dlYnBhY2tMb2FkZXJcIjtcbmltcG9ydCB7XG4gIExhenlTZXJ2aWNlcyxcbiAgU2VydmljZSxcbn0gZnJvbSBcIkBhcHRlcm8vYXhvbG90aXMtcGxheWVyL2J1aWxkL3R5cGVzL21vZHVsZXMvY29yZS9zZXJ2aWNlL0xhenlTZXJ2aWNlc1wiO1xuaW1wb3J0IHsgRnJhbWVMb29wIH0gZnJvbSBcIkBhcHRlcm8vYXhvbG90aXMtcGxheWVyL2J1aWxkL3R5cGVzL21vZHVsZXMvRnJhbWVMb29wXCI7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCJAYXB0ZXJvL2F4b2xvdGlzLXBsYXllci9idWlsZC90eXBlcy9tb2R1bGVzL2NvcmUvZWNzL0NvbXBvbmVudFwiO1xuaW1wb3J0IHsgUGVyZm9ybWFuY2VTdGF0cyB9IGZyb20gXCJAcm9vdC9saWIvbW9kdWxlcy9kZWJ1Zy9QZXJmb3JtYW5jZVN0YXRzXCI7XG5cbmV4cG9ydCBjbGFzcyBGYWN0b3J5IGltcGxlbWVudHMgV2VicGFja0xhenlNb2R1bGUsIFNlcnZpY2U8RGVidWdCdG4+IHtcbiAgYXN5bmMgY3JlYXRlU2VydmljZShzZXJ2aWNlczogTGF6eVNlcnZpY2VzKTogUHJvbWlzZTxEZWJ1Z0J0bj4ge1xuICAgIGxldCBmcmFtZUxvb3AgPSBhd2FpdCBzZXJ2aWNlcy5nZXRTZXJ2aWNlPEZyYW1lTG9vcD4oXG4gICAgICBcIkBhcHRlcm8vYXhvbG90aXMtcGxheWVyL21vZHVsZXMvRnJhbWVMb29wXCJcbiAgICApO1xuICAgIHJldHVybiBuZXcgRGVidWdCdG4oZnJhbWVMb29wLCBzZXJ2aWNlcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlYnVnQnRuIGltcGxlbWVudHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoZnJhbWVMb29wOiBGcmFtZUxvb3AsIHNlcnZpY2VFbnRpdHk6IExhenlTZXJ2aWNlcykge1xuICAgIGxldCBodG1sID1cbiAgICAgICc8ZGl2IGlkPVwiZGVidWctYnRuXCIgc3R5bGU9XCJkaXNwbGF5OiBibG9jaztcXG4nICtcbiAgICAgIFwiICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XFxuXCIgK1xuICAgICAgXCIgICAgY3Vyc29yOiBwb2ludGVyO1xcblwiICtcbiAgICAgIFwiICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cIiArXG4gICAgICBcIiAgICBib3R0b206IDA7XFxuXCIgK1xuICAgICAgXCIgICAgcmlnaHQ6IDJweDtcXG5cIiArXG4gICAgICBcIiAgICBwYWRkaW5nOiA0cHggOHB4O1xcblwiICtcbiAgICAgIFwiICAgIGNvbG9yOiAjZmZmO1xcblwiICtcbiAgICAgIFwiICAgIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCByZ2JhKDAsMCwwLC41KTtcXG5cIiArXG4gICAgICBcIiAgICBmb250LXNpemU6IDEwcHg7XFxuXCIgK1xuICAgICAgXCIgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG5cIiArXG4gICAgICBcIiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcblwiICtcbiAgICAgIFwiICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG5cIiArXG4gICAgICAnICAgIHVzZXItc2VsZWN0OiBub25lXCIgPjYwIEZQUzwvZGl2Pic7XG4gICAgd2luZG93LmRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIGh0bWwpO1xuICAgIGxldCBlbGVtZW50QnlJZCA9IHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYnVnLWJ0blwiKTtcbiAgICBpZiAoZWxlbWVudEJ5SWQpIHtcbiAgICAgIGVsZW1lbnRCeUlkLm9uY2xpY2sgPSAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHNlcnZpY2VFbnRpdHkuZ2V0U2VydmljZTxQZXJmb3JtYW5jZVN0YXRzPihcbiAgICAgICAgICBcIkBhcHRlcm8vYXhvbG90aXMtY29yZS1wbHVnaW5zL21vZHVsZXMvZGVidWcvUGVyZm9ybWFuY2VTdGF0c1wiXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgZnJhbWVMb29wLmFkZExvb3AoRGVidWdCdG4ubmFtZSwgKGRlbHRhKSA9PiB7XG4gICAgICAgIChlbGVtZW50QnlJZCBhcyBhbnkpLmlubmVyVGV4dCA9XG4gICAgICAgICAgTWF0aC5yb3VuZCgoMS4wIC8gZGVsdGEpICogMTAwMCkgKyBcIiBGUFNcIjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhvc3Quc3RhcnRzV2l0aChcImxvY2FsaG9zdFwiKSkge1xuICAgICAgc2VydmljZUVudGl0eS5nZXRTZXJ2aWNlPFBlcmZvcm1hbmNlU3RhdHM+KFxuICAgICAgICBcIkBhcHRlcm8vYXhvbG90aXMtY29yZS1wbHVnaW5zL21vZHVsZXMvZGVidWcvUGVyZm9ybWFuY2VTdGF0c1wiXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGdldFR5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gRGVidWdCdG4ubmFtZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkZhY3RvcnkiLCJjcmVhdGVTZXJ2aWNlIiwic2VydmljZXMiLCJmcmFtZUxvb3AiLCJnZXRTZXJ2aWNlIiwiRGVidWdCdG4iLCJjb25zdHJ1Y3RvciIsInNlcnZpY2VFbnRpdHkiLCJodG1sIiwid2luZG93IiwiZG9jdW1lbnQiLCJib2R5IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiZWxlbWVudEJ5SWQiLCJnZXRFbGVtZW50QnlJZCIsIm9uY2xpY2siLCJldnQiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImFkZExvb3AiLCJuYW1lIiwiZGVsdGEiLCJpbm5lclRleHQiLCJNYXRoIiwicm91bmQiLCJsb2NhdGlvbiIsImhvc3QiLCJzdGFydHNXaXRoIiwiZ2V0VHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/modules/debug/DebugBtn.ts\n')}}]);