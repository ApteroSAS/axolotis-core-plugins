{"version":3,"file":"@aptero/axolotis-core-plugins/modules/debug/DebugBtn.a613293c519cb20ba60c.js","mappings":";;;;;;;;;;;6MASO,MAAMA,EACQ,oBAACC,GAClB,IAAIC,QAAkBD,EAASE,WAC7B,6CAEF,OAAO,IAAIC,EAASF,EAAWD,IAI5B,MAAMG,EACXC,YAAYH,EAAsBI,GAgBhCC,OAAOC,SAASC,KAAKC,mBAAmB,YAdtC,uYAeF,IAAIC,EAAcJ,OAAOC,SAASI,eAAe,aAC7CD,IACFA,EAAYE,QAAWC,IACrBA,EAAIC,kBACJD,EAAIE,iBACJV,EAAcH,WACZ,iEAGJD,EAAUe,QAAQb,EAASc,MAAOC,IAC/BR,EAAoBS,UACnBC,KAAKC,MAAO,EAAMH,EAAS,KAAQ,WAGrCZ,OAAOgB,SAASC,KAAKC,WAAW,cAClCnB,EAAcH,WACZ,gEAKNuB,UACE,OAAOtB,EAASc","sources":["webpack://axolotis-core-plugins/./src/lib/modules/debug/DebugBtn.ts"],"sourcesContent":["import { WebpackLazyModule } from \"@aptero/axolotis-player/build/types/modules/core/loader/WebpackLoader\";\r\nimport {\r\n  LazyServices,\r\n  Service,\r\n} from \"@aptero/axolotis-player/build/types/modules/core/service/LazyServices\";\r\nimport { FrameLoop } from \"@aptero/axolotis-player/build/types/modules/FrameLoop\";\r\nimport Component from \"@aptero/axolotis-player/build/types/modules/core/ecs/Component\";\r\nimport { PerformanceStats } from \"@root/lib/modules/debug/PerformanceStats\";\r\n\r\nexport class Factory implements WebpackLazyModule, Service<DebugBtn> {\r\n  async createService(services: LazyServices): Promise<DebugBtn> {\r\n    let frameLoop = await services.getService<FrameLoop>(\r\n      \"@aptero/axolotis-player/modules/FrameLoop\"\r\n    );\r\n    return new DebugBtn(frameLoop, services);\r\n  }\r\n}\r\n\r\nexport class DebugBtn implements Component {\r\n  constructor(frameLoop: FrameLoop, serviceEntity: LazyServices) {\r\n    let html =\r\n      '<div id=\"debug-btn\" style=\"display: block;\\n' +\r\n      \"    font-family: monospace;\\n\" +\r\n      \"    cursor: pointer;\\n\" +\r\n      \"    position: absolute;\\n\" +\r\n      \"    bottom: 0;\\n\" +\r\n      \"    right: 2px;\\n\" +\r\n      \"    padding: 4px 8px;\\n\" +\r\n      \"    color: #fff;\\n\" +\r\n      \"    text-shadow: 1px 1px 1px rgba(0,0,0,.5);\\n\" +\r\n      \"    font-size: 10px;\\n\" +\r\n      \"    -moz-user-select: none;\\n\" +\r\n      \"    -webkit-user-select: none;\\n\" +\r\n      \"    -ms-user-select: none;\\n\" +\r\n      '    user-select: none\" >60 FPS</div>';\r\n    window.document.body.insertAdjacentHTML(\"beforeend\", html);\r\n    let elementById = window.document.getElementById(\"debug-btn\");\r\n    if (elementById) {\r\n      elementById.onclick = (evt) => {\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n        serviceEntity.getService<PerformanceStats>(\r\n          \"@aptero/axolotis-core-plugins/modules/debug/PerformanceStats\"\r\n        );\r\n      };\r\n      frameLoop.addLoop(DebugBtn.name, (delta) => {\r\n        (elementById as any).innerText =\r\n          Math.round((1.0 / delta) * 1000) + \" FPS\";\r\n      });\r\n    }\r\n    if (window.location.host.startsWith(\"localhost\")) {\r\n      serviceEntity.getService<PerformanceStats>(\r\n        \"@aptero/axolotis-core-plugins/modules/debug/PerformanceStats\"\r\n      );\r\n    }\r\n  }\r\n\r\n  getType(): string {\r\n    return DebugBtn.name;\r\n  }\r\n}\r\n"],"names":["Factory","services","frameLoop","getService","DebugBtn","constructor","serviceEntity","window","document","body","insertAdjacentHTML","elementById","getElementById","onclick","evt","stopPropagation","preventDefault","addLoop","name","delta","innerText","Math","round","location","host","startsWith","getType"],"sourceRoot":""}