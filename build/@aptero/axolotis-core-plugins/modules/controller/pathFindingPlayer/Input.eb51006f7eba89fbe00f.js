/*!
 * 
 *   @aptero/axolotis-core-plugins v1.0.0
 *   https://github.com/ApteroSAS/axolotis-player
 *
 *   Copyright (c) Aptero (https://github.com/ApteroSAS/axolotis-player) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
"use strict";(self.webpackChunkaxolotis_core_plugins=self.webpackChunkaxolotis_core_plugins||[]).push([[408],{823:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Factory": function() { return /* binding */ Factory; },\n/* harmony export */   "Input": function() { return /* binding */ Input; }\n/* harmony export */ });\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Input {\n  constructor() {\n    _defineProperty(this, "_keyMap", void 0);\n\n    _defineProperty(this, "events", void 0);\n\n    _defineProperty(this, "_onKeyDown", event => {\n      this._keyMap[event.code] = 1;\n    });\n\n    _defineProperty(this, "_onKeyUp", event => {\n      this._keyMap[event.code] = 0;\n    });\n\n    this._keyMap = {};\n    this.events = [];\n    this.AddKeyDownListner(this._onKeyDown);\n    this.AddKeyUpListner(this._onKeyUp);\n  }\n\n  getType() {\n    return Input.name;\n  }\n\n  _addEventListner(element, type, callback) {\n    element.addEventListener(type, callback);\n    this.events.push({\n      element,\n      type,\n      callback\n    });\n  }\n\n  AddKeyDownListner(callback) {\n    this._addEventListner(document, "keydown", callback);\n  }\n\n  AddKeyUpListner(callback) {\n    this._addEventListner(document, "keyup", callback);\n  }\n\n  AddMouseMoveListner(callback) {\n    this._addEventListner(document, "mousemove", callback);\n  }\n\n  AddClickListner(callback) {\n    this._addEventListner(document.body, "click", callback);\n  }\n\n  AddMouseDownListner(callback) {\n    this._addEventListner(document.body, "mousedown", callback);\n  }\n\n  AddMouseUpListner(callback) {\n    this._addEventListner(document.body, "mouseup", callback);\n  }\n\n  GetKeyDown(code) {\n    return this._keyMap[code] === undefined ? 0 : this._keyMap[code];\n  }\n\n  ClearEventListners() {\n    this.events.forEach(e => {\n      e.element.removeEventListener(e.type, e.callback);\n    });\n    this.events = [];\n    this.AddKeyDownListner(this._onKeyDown);\n    this.AddKeyUpListner(this._onKeyUp);\n  }\n\n}\nclass Factory {\n  async createService(services) {\n    return new Input();\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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InNvdXJjZXMiOlsid2VicGFjazovL2F4b2xvdGlzLWNvcmUtcGx1Z2lucy8uL3NyYy9saWIvbW9kdWxlcy9jb250cm9sbGVyL3BhdGhGaW5kaW5nUGxheWVyL0lucHV0LnRzPzQ5OWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiQGFwdGVyby9heG9sb3Rpcy1wbGF5ZXIvYnVpbGQvdHlwZXMvbW9kdWxlcy9jb3JlL2Vjcy9Db21wb25lbnRcIjtcbmltcG9ydCB7IFdlYnBhY2tMYXp5TW9kdWxlIH0gZnJvbSBcIkBhcHRlcm8vYXhvbG90aXMtcGxheWVyL2J1aWxkL3R5cGVzL21vZHVsZXMvY29yZS9sb2FkZXIvV2VicGFja0xvYWRlclwiO1xuaW1wb3J0IHtcbiAgTGF6eVNlcnZpY2VzLFxuICBTZXJ2aWNlLFxufSBmcm9tIFwiQGFwdGVyby9heG9sb3Rpcy1wbGF5ZXIvYnVpbGQvdHlwZXMvbW9kdWxlcy9jb3JlL3NlcnZpY2UvTGF6eVNlcnZpY2VzXCI7XG5cbmV4cG9ydCBjbGFzcyBJbnB1dCBpbXBsZW1lbnRzIENvbXBvbmVudCB7XG4gIHByaXZhdGUgX2tleU1hcDogYW55O1xuICBwcml2YXRlIGV2ZW50czogYW55W107XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2tleU1hcCA9IHt9O1xuICAgIHRoaXMuZXZlbnRzID0gW107XG5cbiAgICB0aGlzLkFkZEtleURvd25MaXN0bmVyKHRoaXMuX29uS2V5RG93bik7XG4gICAgdGhpcy5BZGRLZXlVcExpc3RuZXIodGhpcy5fb25LZXlVcCk7XG4gIH1cblxuICBnZXRUeXBlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIElucHV0Lm5hbWU7XG4gIH1cblxuICBfYWRkRXZlbnRMaXN0bmVyKGVsZW1lbnQsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICB0aGlzLmV2ZW50cy5wdXNoKHsgZWxlbWVudCwgdHlwZSwgY2FsbGJhY2sgfSk7XG4gIH1cblxuICBBZGRLZXlEb3duTGlzdG5lcihjYWxsYmFjaykge1xuICAgIHRoaXMuX2FkZEV2ZW50TGlzdG5lcihkb2N1bWVudCwgXCJrZXlkb3duXCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIEFkZEtleVVwTGlzdG5lcihjYWxsYmFjaykge1xuICAgIHRoaXMuX2FkZEV2ZW50TGlzdG5lcihkb2N1bWVudCwgXCJrZXl1cFwiLCBjYWxsYmFjayk7XG4gIH1cblxuICBBZGRNb3VzZU1vdmVMaXN0bmVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fYWRkRXZlbnRMaXN0bmVyKGRvY3VtZW50LCBcIm1vdXNlbW92ZVwiLCBjYWxsYmFjayk7XG4gIH1cblxuICBBZGRDbGlja0xpc3RuZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLl9hZGRFdmVudExpc3RuZXIoZG9jdW1lbnQuYm9keSwgXCJjbGlja1wiLCBjYWxsYmFjayk7XG4gIH1cblxuICBBZGRNb3VzZURvd25MaXN0bmVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fYWRkRXZlbnRMaXN0bmVyKGRvY3VtZW50LmJvZHksIFwibW91c2Vkb3duXCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIEFkZE1vdXNlVXBMaXN0bmVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fYWRkRXZlbnRMaXN0bmVyKGRvY3VtZW50LmJvZHksIFwibW91c2V1cFwiLCBjYWxsYmFjayk7XG4gIH1cblxuICBfb25LZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5fa2V5TWFwW2V2ZW50LmNvZGVdID0gMTtcbiAgfTtcblxuICBfb25LZXlVcCA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuX2tleU1hcFtldmVudC5jb2RlXSA9IDA7XG4gIH07XG5cbiAgR2V0S2V5RG93bihjb2RlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2tleU1hcFtjb2RlXSA9PT0gdW5kZWZpbmVkID8gMCA6IHRoaXMuX2tleU1hcFtjb2RlXTtcbiAgfVxuXG4gIENsZWFyRXZlbnRMaXN0bmVycygpIHtcbiAgICB0aGlzLmV2ZW50cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBlLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLnR5cGUsIGUuY2FsbGJhY2spO1xuICAgIH0pO1xuXG4gICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgICB0aGlzLkFkZEtleURvd25MaXN0bmVyKHRoaXMuX29uS2V5RG93bik7XG4gICAgdGhpcy5BZGRLZXlVcExpc3RuZXIodGhpcy5fb25LZXlVcCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZhY3RvcnkgaW1wbGVtZW50cyBXZWJwYWNrTGF6eU1vZHVsZSwgU2VydmljZTxJbnB1dD4ge1xuICBhc3luYyBjcmVhdGVTZXJ2aWNlKHNlcnZpY2VzOiBMYXp5U2VydmljZXMpOiBQcm9taXNlPElucHV0PiB7XG4gICAgcmV0dXJuIG5ldyBJbnB1dCgpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiSW5wdXQiLCJjb25zdHJ1Y3RvciIsImV2ZW50IiwiX2tleU1hcCIsImNvZGUiLCJldmVudHMiLCJBZGRLZXlEb3duTGlzdG5lciIsIl9vbktleURvd24iLCJBZGRLZXlVcExpc3RuZXIiLCJfb25LZXlVcCIsImdldFR5cGUiLCJuYW1lIiwiX2FkZEV2ZW50TGlzdG5lciIsImVsZW1lbnQiLCJ0eXBlIiwiY2FsbGJhY2siLCJhZGRFdmVudExpc3RlbmVyIiwicHVzaCIsImRvY3VtZW50IiwiQWRkTW91c2VNb3ZlTGlzdG5lciIsIkFkZENsaWNrTGlzdG5lciIsImJvZHkiLCJBZGRNb3VzZURvd25MaXN0bmVyIiwiQWRkTW91c2VVcExpc3RuZXIiLCJHZXRLZXlEb3duIiwidW5kZWZpbmVkIiwiQ2xlYXJFdmVudExpc3RuZXJzIiwiZm9yRWFjaCIsImUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiRmFjdG9yeSIsImNyZWF0ZVNlcnZpY2UiLCJzZXJ2aWNlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///823\n')}}]);