/*!
 * 
 *   @aptero/axolotis-core-plugins v1.0.0
 *   https://github.com/ApteroSAS/axolotis-player
 *
 *   Copyright (c) Aptero (https://github.com/ApteroSAS/axolotis-player) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
"use strict";(self.webpackChunkaxolotis_core_plugins=self.webpackChunkaxolotis_core_plugins||[]).push([["@aptero/axolotis-core-plugins/modules/controller/pathFindingPlayer/Input"],{"./src/lib/modules/controller/pathFindingPlayer/Input.ts":
/*!***************************************************************!*\
  !*** ./src/lib/modules/controller/pathFindingPlayer/Input.ts ***!
  \***************************************************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Factory": function() { return /* binding */ Factory; },\n/* harmony export */   "Input": function() { return /* binding */ Input; }\n/* harmony export */ });\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Input {\n  constructor() {\n    _defineProperty(this, "_keyMap", void 0);\n\n    _defineProperty(this, "events", void 0);\n\n    _defineProperty(this, "_onKeyDown", event => {\n      this._keyMap[event.code] = 1;\n    });\n\n    _defineProperty(this, "_onKeyUp", event => {\n      this._keyMap[event.code] = 0;\n    });\n\n    this._keyMap = {};\n    this.events = [];\n    this.AddKeyDownListner(this._onKeyDown);\n    this.AddKeyUpListner(this._onKeyUp);\n  }\n\n  getType() {\n    return Input.name;\n  }\n\n  _addEventListner(element, type, callback) {\n    element.addEventListener(type, callback);\n    this.events.push({\n      element,\n      type,\n      callback\n    });\n  }\n\n  AddKeyDownListner(callback) {\n    this._addEventListner(document, "keydown", callback);\n  }\n\n  AddKeyUpListner(callback) {\n    this._addEventListner(document, "keyup", callback);\n  }\n\n  AddMouseMoveListner(callback) {\n    this._addEventListner(document, "mousemove", callback);\n  }\n\n  AddClickListner(callback) {\n    this._addEventListner(document.body, "click", callback);\n  }\n\n  AddMouseDownListner(callback) {\n    this._addEventListner(document.body, "mousedown", callback);\n  }\n\n  AddMouseUpListner(callback) {\n    this._addEventListner(document.body, "mouseup", callback);\n  }\n\n  GetKeyDown(code) {\n    return this._keyMap[code] === undefined ? 0 : this._keyMap[code];\n  }\n\n  ClearEventListners() {\n    this.events.forEach(e => {\n      e.element.removeEventListener(e.type, e.callback);\n    });\n    this.events = [];\n    this.AddKeyDownListner(this._onKeyDown);\n    this.AddKeyUpListner(this._onKeyUp);\n  }\n\n}\nclass Factory {\n  async createService(services) {\n    return new Input();\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL21vZHVsZXMvY29udHJvbGxlci9wYXRoRmluZGluZ1BsYXllci9JbnB1dC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBT08sTUFBTUEsS0FBTixDQUFpQztBQUd0Q0MsRUFBQUEsV0FBVyxHQUFHO0FBQUE7O0FBQUE7O0FBQUEsd0NBeUNBQyxLQUFELElBQVc7QUFDdEIsV0FBS0MsT0FBTCxDQUFhRCxLQUFLLENBQUNFLElBQW5CLElBQTJCLENBQTNCO0FBQ0QsS0EzQ2E7O0FBQUEsc0NBNkNGRixLQUFELElBQVc7QUFDcEIsV0FBS0MsT0FBTCxDQUFhRCxLQUFLLENBQUNFLElBQW5CLElBQTJCLENBQTNCO0FBQ0QsS0EvQ2E7O0FBQ1osU0FBS0QsT0FBTCxHQUFlLEVBQWY7QUFDQSxTQUFLRSxNQUFMLEdBQWMsRUFBZDtBQUVBLFNBQUtDLGlCQUFMLENBQXVCLEtBQUtDLFVBQTVCO0FBQ0EsU0FBS0MsZUFBTCxDQUFxQixLQUFLQyxRQUExQjtBQUNEOztBQUVEQyxFQUFBQSxPQUFPLEdBQVc7QUFDaEIsV0FBT1YsS0FBSyxDQUFDVyxJQUFiO0FBQ0Q7O0FBRURDLEVBQUFBLGdCQUFnQixDQUFDQyxPQUFELEVBQVVDLElBQVYsRUFBZ0JDLFFBQWhCLEVBQTBCO0FBQ3hDRixJQUFBQSxPQUFPLENBQUNHLGdCQUFSLENBQXlCRixJQUF6QixFQUErQkMsUUFBL0I7QUFDQSxTQUFLVixNQUFMLENBQVlZLElBQVosQ0FBaUI7QUFBRUosTUFBQUEsT0FBRjtBQUFXQyxNQUFBQSxJQUFYO0FBQWlCQyxNQUFBQTtBQUFqQixLQUFqQjtBQUNEOztBQUVEVCxFQUFBQSxpQkFBaUIsQ0FBQ1MsUUFBRCxFQUFXO0FBQzFCLFNBQUtILGdCQUFMLENBQXNCTSxRQUF0QixFQUFnQyxTQUFoQyxFQUEyQ0gsUUFBM0M7QUFDRDs7QUFFRFAsRUFBQUEsZUFBZSxDQUFDTyxRQUFELEVBQVc7QUFDeEIsU0FBS0gsZ0JBQUwsQ0FBc0JNLFFBQXRCLEVBQWdDLE9BQWhDLEVBQXlDSCxRQUF6QztBQUNEOztBQUVESSxFQUFBQSxtQkFBbUIsQ0FBQ0osUUFBRCxFQUFXO0FBQzVCLFNBQUtILGdCQUFMLENBQXNCTSxRQUF0QixFQUFnQyxXQUFoQyxFQUE2Q0gsUUFBN0M7QUFDRDs7QUFFREssRUFBQUEsZUFBZSxDQUFDTCxRQUFELEVBQVc7QUFDeEIsU0FBS0gsZ0JBQUwsQ0FBc0JNLFFBQVEsQ0FBQ0csSUFBL0IsRUFBcUMsT0FBckMsRUFBOENOLFFBQTlDO0FBQ0Q7O0FBRURPLEVBQUFBLG1CQUFtQixDQUFDUCxRQUFELEVBQVc7QUFDNUIsU0FBS0gsZ0JBQUwsQ0FBc0JNLFFBQVEsQ0FBQ0csSUFBL0IsRUFBcUMsV0FBckMsRUFBa0ROLFFBQWxEO0FBQ0Q7O0FBRURRLEVBQUFBLGlCQUFpQixDQUFDUixRQUFELEVBQVc7QUFDMUIsU0FBS0gsZ0JBQUwsQ0FBc0JNLFFBQVEsQ0FBQ0csSUFBL0IsRUFBcUMsU0FBckMsRUFBZ0ROLFFBQWhEO0FBQ0Q7O0FBVURTLEVBQUFBLFVBQVUsQ0FBQ3BCLElBQUQsRUFBTztBQUNmLFdBQU8sS0FBS0QsT0FBTCxDQUFhQyxJQUFiLE1BQXVCcUIsU0FBdkIsR0FBbUMsQ0FBbkMsR0FBdUMsS0FBS3RCLE9BQUwsQ0FBYUMsSUFBYixDQUE5QztBQUNEOztBQUVEc0IsRUFBQUEsa0JBQWtCLEdBQUc7QUFDbkIsU0FBS3JCLE1BQUwsQ0FBWXNCLE9BQVosQ0FBcUJDLENBQUQsSUFBTztBQUN6QkEsTUFBQUEsQ0FBQyxDQUFDZixPQUFGLENBQVVnQixtQkFBVixDQUE4QkQsQ0FBQyxDQUFDZCxJQUFoQyxFQUFzQ2MsQ0FBQyxDQUFDYixRQUF4QztBQUNELEtBRkQ7QUFJQSxTQUFLVixNQUFMLEdBQWMsRUFBZDtBQUNBLFNBQUtDLGlCQUFMLENBQXVCLEtBQUtDLFVBQTVCO0FBQ0EsU0FBS0MsZUFBTCxDQUFxQixLQUFLQyxRQUExQjtBQUNEOztBQWhFcUM7QUFtRWpDLE1BQU1xQixPQUFOLENBQTJEO0FBQzdDLFFBQWJDLGFBQWEsQ0FBQ0MsUUFBRCxFQUF5QztBQUMxRCxXQUFPLElBQUloQyxLQUFKLEVBQVA7QUFDRDs7QUFIK0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9heG9sb3Rpcy1jb3JlLXBsdWdpbnMvLi9zcmMvbGliL21vZHVsZXMvY29udHJvbGxlci9wYXRoRmluZGluZ1BsYXllci9JbnB1dC50cz80OTllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb21wb25lbnQgZnJvbSBcIkBhcHRlcm8vYXhvbG90aXMtcGxheWVyL2J1aWxkL3R5cGVzL21vZHVsZXMvY29yZS9lY3MvQ29tcG9uZW50XCI7XG5pbXBvcnQgeyBXZWJwYWNrTGF6eU1vZHVsZSB9IGZyb20gXCJAYXB0ZXJvL2F4b2xvdGlzLXBsYXllci9idWlsZC90eXBlcy9tb2R1bGVzL2NvcmUvbG9hZGVyL1dlYnBhY2tMb2FkZXJcIjtcbmltcG9ydCB7XG4gIExhenlTZXJ2aWNlcyxcbiAgU2VydmljZSxcbn0gZnJvbSBcIkBhcHRlcm8vYXhvbG90aXMtcGxheWVyL2J1aWxkL3R5cGVzL21vZHVsZXMvY29yZS9zZXJ2aWNlL0xhenlTZXJ2aWNlc1wiO1xuXG5leHBvcnQgY2xhc3MgSW5wdXQgaW1wbGVtZW50cyBDb21wb25lbnQge1xuICBwcml2YXRlIF9rZXlNYXA6IGFueTtcbiAgcHJpdmF0ZSBldmVudHM6IGFueVtdO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9rZXlNYXAgPSB7fTtcbiAgICB0aGlzLmV2ZW50cyA9IFtdO1xuXG4gICAgdGhpcy5BZGRLZXlEb3duTGlzdG5lcih0aGlzLl9vbktleURvd24pO1xuICAgIHRoaXMuQWRkS2V5VXBMaXN0bmVyKHRoaXMuX29uS2V5VXApO1xuICB9XG5cbiAgZ2V0VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBJbnB1dC5uYW1lO1xuICB9XG5cbiAgX2FkZEV2ZW50TGlzdG5lcihlbGVtZW50LCB0eXBlLCBjYWxsYmFjaykge1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgdGhpcy5ldmVudHMucHVzaCh7IGVsZW1lbnQsIHR5cGUsIGNhbGxiYWNrIH0pO1xuICB9XG5cbiAgQWRkS2V5RG93bkxpc3RuZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLl9hZGRFdmVudExpc3RuZXIoZG9jdW1lbnQsIFwia2V5ZG93blwiLCBjYWxsYmFjayk7XG4gIH1cblxuICBBZGRLZXlVcExpc3RuZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLl9hZGRFdmVudExpc3RuZXIoZG9jdW1lbnQsIFwia2V5dXBcIiwgY2FsbGJhY2spO1xuICB9XG5cbiAgQWRkTW91c2VNb3ZlTGlzdG5lcihjYWxsYmFjaykge1xuICAgIHRoaXMuX2FkZEV2ZW50TGlzdG5lcihkb2N1bWVudCwgXCJtb3VzZW1vdmVcIiwgY2FsbGJhY2spO1xuICB9XG5cbiAgQWRkQ2xpY2tMaXN0bmVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fYWRkRXZlbnRMaXN0bmVyKGRvY3VtZW50LmJvZHksIFwiY2xpY2tcIiwgY2FsbGJhY2spO1xuICB9XG5cbiAgQWRkTW91c2VEb3duTGlzdG5lcihjYWxsYmFjaykge1xuICAgIHRoaXMuX2FkZEV2ZW50TGlzdG5lcihkb2N1bWVudC5ib2R5LCBcIm1vdXNlZG93blwiLCBjYWxsYmFjayk7XG4gIH1cblxuICBBZGRNb3VzZVVwTGlzdG5lcihjYWxsYmFjaykge1xuICAgIHRoaXMuX2FkZEV2ZW50TGlzdG5lcihkb2N1bWVudC5ib2R5LCBcIm1vdXNldXBcIiwgY2FsbGJhY2spO1xuICB9XG5cbiAgX29uS2V5RG93biA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuX2tleU1hcFtldmVudC5jb2RlXSA9IDE7XG4gIH07XG5cbiAgX29uS2V5VXAgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLl9rZXlNYXBbZXZlbnQuY29kZV0gPSAwO1xuICB9O1xuXG4gIEdldEtleURvd24oY29kZSkge1xuICAgIHJldHVybiB0aGlzLl9rZXlNYXBbY29kZV0gPT09IHVuZGVmaW5lZCA/IDAgOiB0aGlzLl9rZXlNYXBbY29kZV07XG4gIH1cblxuICBDbGVhckV2ZW50TGlzdG5lcnMoKSB7XG4gICAgdGhpcy5ldmVudHMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgZS5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZS50eXBlLCBlLmNhbGxiYWNrKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZXZlbnRzID0gW107XG4gICAgdGhpcy5BZGRLZXlEb3duTGlzdG5lcih0aGlzLl9vbktleURvd24pO1xuICAgIHRoaXMuQWRkS2V5VXBMaXN0bmVyKHRoaXMuX29uS2V5VXApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGYWN0b3J5IGltcGxlbWVudHMgV2VicGFja0xhenlNb2R1bGUsIFNlcnZpY2U8SW5wdXQ+IHtcbiAgYXN5bmMgY3JlYXRlU2VydmljZShzZXJ2aWNlczogTGF6eVNlcnZpY2VzKTogUHJvbWlzZTxJbnB1dD4ge1xuICAgIHJldHVybiBuZXcgSW5wdXQoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIklucHV0IiwiY29uc3RydWN0b3IiLCJldmVudCIsIl9rZXlNYXAiLCJjb2RlIiwiZXZlbnRzIiwiQWRkS2V5RG93bkxpc3RuZXIiLCJfb25LZXlEb3duIiwiQWRkS2V5VXBMaXN0bmVyIiwiX29uS2V5VXAiLCJnZXRUeXBlIiwibmFtZSIsIl9hZGRFdmVudExpc3RuZXIiLCJlbGVtZW50IiwidHlwZSIsImNhbGxiYWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsInB1c2giLCJkb2N1bWVudCIsIkFkZE1vdXNlTW92ZUxpc3RuZXIiLCJBZGRDbGlja0xpc3RuZXIiLCJib2R5IiwiQWRkTW91c2VEb3duTGlzdG5lciIsIkFkZE1vdXNlVXBMaXN0bmVyIiwiR2V0S2V5RG93biIsInVuZGVmaW5lZCIsIkNsZWFyRXZlbnRMaXN0bmVycyIsImZvckVhY2giLCJlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkZhY3RvcnkiLCJjcmVhdGVTZXJ2aWNlIiwic2VydmljZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/modules/controller/pathFindingPlayer/Input.ts\n')}}]);