/*!
 * 
 *   @aptero/axolotis-core-plugins v1.0.0
 *   https://github.com/ApteroSAS/axolotis-player
 *
 *   Copyright (c) Aptero (https://github.com/ApteroSAS/axolotis-player) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
"use strict";(self.webpackChunkaxolotis_core_plugins=self.webpackChunkaxolotis_core_plugins||[]).push([["@aptero/axolotis-core-plugins/modules/spoke/SpokeRoomLoader"],{"./src/lib/modules/spoke/PhoenixUtils.ts":
/*!***********************************************!*\
  !*** ./src/lib/modules/spoke/PhoenixUtils.ts ***!
  \***********************************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "connectToReticulum": function() { return /* binding */ connectToReticulum; },\n/* harmony export */   "createHubChannelParams": function() { return /* binding */ createHubChannelParams; },\n/* harmony export */   "denoisePresence": function() { return /* binding */ denoisePresence; },\n/* harmony export */   "discordBridgesForPresences": function() { return /* binding */ discordBridgesForPresences; },\n/* harmony export */   "getPresenceContextForSession": function() { return /* binding */ getPresenceContextForSession; },\n/* harmony export */   "getPresenceEntryForSession": function() { return /* binding */ getPresenceEntryForSession; },\n/* harmony export */   "getPresenceProfileForSession": function() { return /* binding */ getPresenceProfileForSession; },\n/* harmony export */   "hasEmbedPresences": function() { return /* binding */ hasEmbedPresences; },\n/* harmony export */   "invalidateReticulumMeta": function() { return /* binding */ invalidateReticulumMeta; },\n/* harmony export */   "load": function() { return /* binding */ load; },\n/* harmony export */   "migrateChannelToSocket": function() { return /* binding */ migrateChannelToSocket; },\n/* harmony export */   "migrateToChannel": function() { return /* binding */ migrateToChannel; },\n/* harmony export */   "presenceEventsForHub": function() { return /* binding */ presenceEventsForHub; }\n/* harmony export */ });\n/* harmony import */ var phoenix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phoenix */ "./node_modules/phoenix/priv/static/phoenix.esm.js");\n\nlet configs = {\n  RETICULUM_SOCKET_SERVER_PORT: "443",\n  RETICULUM_SOCKET_SERVER: "alphahub.aptero.co",\n  //TODO\n  RETICULUM_SOCKET_PROTOCOL: "wss:"\n};\nfunction createHubChannelParams() {\n  let authToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  let permsToken = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  /*{\n        "profile": {\n        "avatarId": "https://hub.aptero.co/data/avatar/A031/base.glb",\n            "displayName": "Pierre"\n    },\n        "push_subscription_endpoint": null,\n        "auth_token": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJyZXQiLCJleHAiOjE2MjM2Nzc4NzUsImlhdCI6MTYxNjQyMDI3NSwiaXNzIjoicmV0IiwianRpIjoiMTBkMWFkZmYtYjBlMi00N2RkLWFiMTgtMjY3MGY0ZDVhMTFkIiwibmJmIjoxNjE2NDIwMjc0LCJzdWIiOiI2NDA0MDcwNTA5NjYyNjk5NjEiLCJ0eXAiOiJhY2Nlc3MifQ.qp29Ip4AKkpRPtVVOUikytL1u-lGPJidUglsWlW8H9izgdRsoH_c0yZuA04Miwi6K2iN-GsoCr8Kd1fTH0yp2g",\n        "perms_token": null,\n        "context": {\n        "mobile": false,\n            "embed": true\n    },\n        "hub_invite_id": null\n    }*/\n  const params = {\n    profile: {\n      avatarId: "",\n      displayName: ""\n    },\n    push_subscription_endpoint: null,\n    auth_token: null,\n    perms_token: null,\n    bot_access_key: null,\n    context: {\n      mobile: false,\n      embed: true\n    },\n    hub_invite_id: null\n  };\n  return params;\n}\nasync function load(hubid) {\n  const socket = await connectToReticulum();\n  socket.onClose(e => {\n    console.error(e);\n  });\n  const {\n    data,\n    hubPhxChannel,\n    vapiddata\n  } = await new Promise((resolve, reject) => {\n    // Reticulum global channel\n    let retChannel = socket.channel("ret", {\n      hub_id: hubid\n    });\n    retChannel.join().receive("ok", vapiddata => {\n      const hubPhxChannel = socket.channel("hub:" + hubid, createHubChannelParams());\n      hubPhxChannel.join().receive("ok", async data => {\n        resolve({\n          data,\n          hubPhxChannel,\n          vapiddata\n        });\n      }).receive("error", res => {\n        reject(res);\n      });\n    }).receive("error", res => {\n      reject(res);\n    });\n  });\n  return {\n    data,\n    hubPhxChannel,\n    vapiddata\n  };\n}\nlet reticulumMeta = null;\nlet invalidatedReticulumMetaThisSession = false;\nlet directReticulumHostAndPort;\n\nasync function refreshDirectReticulumHostAndPort() {\n  const qs = new URLSearchParams(location.search);\n  let host = qs.get("phx_host");\n  host = host || configs.RETICULUM_SOCKET_SERVER;\n  const port = configs.RETICULUM_SOCKET_SERVER_PORT;\n  directReticulumHostAndPort = {\n    host,\n    port\n  };\n}\n\nasync function invalidateReticulumMeta() {\n  invalidatedReticulumMetaThisSession = true;\n  reticulumMeta = null;\n} //TODO important function\n\nasync function connectToReticulum() {\n  let debug = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  let socketClass = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : phoenix__WEBPACK_IMPORTED_MODULE_0__.Socket;\n  const qs = new URLSearchParams(location.search);\n\n  const getNewSocketUrl = async () => {\n    await refreshDirectReticulumHostAndPort();\n    const {\n      host,\n      port\n    } = directReticulumHostAndPort;\n    const protocol = qs.get("phx_protocol") || configs.RETICULUM_SOCKET_PROTOCOL || (document.location.protocol === "https:" ? "wss:" : "ws:");\n    return "".concat(protocol, "//").concat(host).concat(port ? ":".concat(port) : "");\n  };\n\n  const socketUrl = await getNewSocketUrl();\n  console.log("Phoenix Socket URL: ".concat(socketUrl));\n  const socketSettings = {};\n\n  if (debug) {\n    socketSettings.logger = (kind, msg, data) => {\n      console.log("".concat(kind, ": ").concat(msg), data);\n    };\n  }\n\n  if (params) {\n    socketSettings.params = params;\n  }\n\n  const socket = new socketClass("".concat(socketUrl, "/socket"), socketSettings);\n  socket.connect();\n  socket.onError(async () => {\n    // On error, underlying reticulum node may have died, so rebalance by\n    // fetching a new healthy node to connect to.\n    invalidateReticulumMeta();\n    const endPointPath = new URL(socket.endPoint).pathname;\n    const newSocketUrl = await getNewSocketUrl();\n    const newEndPoint = "".concat(newSocketUrl).concat(endPointPath);\n    console.log("Socket error, changed endpoint to ".concat(newEndPoint));\n    socket.endPoint = newEndPoint;\n  });\n  return socket;\n}\nfunction getPresenceEntryForSession(presences, sessionId) {\n  const entry = Object.entries(presences || {}).find(_ref => {\n    let [k] = _ref;\n    return k === sessionId;\n  }) || [];\n  const presence = entry[1];\n  return presence && presence.metas && presence.metas[0] || {};\n}\nfunction getPresenceContextForSession(presences, sessionId) {\n  return (getPresenceEntryForSession(presences, sessionId) || {}).context || {};\n}\nfunction getPresenceProfileForSession(presences, sessionId) {\n  return (getPresenceEntryForSession(presences, sessionId) || {}).profile || {};\n}\n\nfunction migrateBindings(oldChannel, newChannel) {\n  const doNotDuplicate = ["phx_close", "phx_error", "phx_reply", "presence_state", "presence_diff"];\n\n  const shouldDuplicate = event => {\n    return !event.startsWith("chan_reply_") && !doNotDuplicate.includes(event);\n  };\n\n  for (let i = 0, l = oldChannel.bindings.length; i < l; i++) {\n    const item = oldChannel.bindings[i];\n\n    if (shouldDuplicate(item.event)) {\n      newChannel.bindings.push(item);\n    }\n  }\n\n  newChannel.bindingRef = oldChannel.bindingRef;\n} // Takes the given channel, and creates a new channel with the same bindings\n// with the given socket, joins it, and leaves the old channel after joining.\n//\n// NOTE: This function relies upon phoenix channel object internals, so this\n// function will need to be reviewed if/when we ever update phoenix.js\n\n\nfunction migrateChannelToSocket(oldChannel, socket, params) {\n  const channel = socket.channel(oldChannel.topic, params || oldChannel.params);\n  migrateBindings(oldChannel, channel);\n\n  for (let i = 0, l = oldChannel.pushBuffer.length; i < l; i++) {\n    const item = oldChannel.pushBuffer[i];\n    channel.push(item.event, item.payload, item.timeout);\n  }\n\n  const oldJoinPush = oldChannel.joinPush;\n  const joinPush = channel.join();\n\n  for (let i = 0, l = oldJoinPush.recHooks.length; i < l; i++) {\n    const item = oldJoinPush.recHooks[i];\n    joinPush.receive(item.status, item.callback);\n  }\n\n  return new Promise(resolve => {\n    joinPush.receive("ok", () => {\n      // Clear all event handlers first so no duplicate messages come in.\n      oldChannel.bindings = [];\n      resolve(channel);\n    });\n  });\n}\nfunction migrateToChannel(oldChannel, newChannel) {\n  migrateBindings(oldChannel, newChannel);\n  return new Promise((resolve, reject) => {\n    newChannel.join().receive("ok", data => {\n      oldChannel.leave();\n      oldChannel.bindings = [];\n      resolve(data);\n    }).receive("error", data => {\n      newChannel.leave();\n      reject(data);\n    });\n  });\n}\nfunction discordBridgesForPresences(presences) {\n  const channels = [];\n\n  for (const p of Object.values(presences)) {\n    for (const m of p.metas) {\n      if (m.profile && m.profile.discordBridges) {\n        Array.prototype.push.apply(channels, m.profile.discordBridges.map(b => b.channel.name));\n      }\n    }\n  }\n\n  return channels;\n}\nfunction hasEmbedPresences(presences) {\n  for (const p of Object.values(presences)) {\n    for (const m of p.metas) {\n      if (m.context && m.context.embed) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\nfunction denoisePresence(_ref2) {\n  let {\n    onJoin,\n    onLeave,\n    onChange\n  } = _ref2;\n  return {\n    rawOnJoin: (key, beforeJoin, afterJoin) => {\n      if (beforeJoin === undefined) {\n        onJoin(key, afterJoin.metas[0]);\n      }\n    },\n    rawOnLeave: (key, remaining, removed) => {\n      if (remaining.metas.length === 0) {\n        onLeave(key, removed.metas[0]);\n      } else {\n        onChange(key, removed.metas[removed.metas.length - 1], remaining.metas[remaining.metas.length - 1]);\n      }\n    }\n  };\n}\nfunction presenceEventsForHub(events) {\n  const onJoin = (key, meta) => {\n    events.trigger("hub:join", {\n      key,\n      meta\n    });\n  };\n\n  const onLeave = (key, meta) => {\n    events.trigger("hub:leave", {\n      key,\n      meta\n    });\n  };\n\n  const onChange = (key, previous, current) => {\n    events.trigger("hub:change", {\n      key,\n      previous,\n      current\n    });\n  };\n\n  return {\n    onJoin,\n    onLeave,\n    onChange\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL21vZHVsZXMvc3Bva2UvUGhvZW5peFV0aWxzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQSxJQUFJQyxPQUFPLEdBQUc7QUFDWkMsRUFBQUEsNEJBQTRCLEVBQUUsS0FEbEI7QUFFWkMsRUFBQUEsdUJBQXVCLEVBQUUsb0JBRmI7QUFFbUM7QUFDL0NDLEVBQUFBLHlCQUF5QixFQUFFO0FBSGYsQ0FBZDtBQU1PLFNBQVNDLHNCQUFULEdBR0w7QUFBQSxNQUZBQyxTQUVBLHVFQUYyQixJQUUzQjtBQUFBLE1BREFDLFVBQ0EsdUVBRDRCLElBQzVCOztBQUNBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRSxRQUFNQyxNQUFNLEdBQUc7QUFDYkMsSUFBQUEsT0FBTyxFQUFFO0FBQ1BDLE1BQUFBLFFBQVEsRUFBRSxFQURIO0FBRVBDLE1BQUFBLFdBQVcsRUFBRTtBQUZOLEtBREk7QUFLYkMsSUFBQUEsMEJBQTBCLEVBQUUsSUFMZjtBQU1iQyxJQUFBQSxVQUFVLEVBQUUsSUFOQztBQU9iQyxJQUFBQSxXQUFXLEVBQUUsSUFQQTtBQVFiQyxJQUFBQSxjQUFjLEVBQUUsSUFSSDtBQVNiQyxJQUFBQSxPQUFPLEVBQUU7QUFDUEMsTUFBQUEsTUFBTSxFQUFFLEtBREQ7QUFFUEMsTUFBQUEsS0FBSyxFQUFFO0FBRkEsS0FUSTtBQWFiQyxJQUFBQSxhQUFhLEVBQUU7QUFiRixHQUFmO0FBZ0JBLFNBQU9YLE1BQVA7QUFDRDtBQUVNLGVBQWVZLElBQWYsQ0FDTEMsS0FESyxFQUV1RDtBQUM1RCxRQUFNQyxNQUFNLEdBQUcsTUFBTUMsa0JBQWtCLEVBQXZDO0FBQ0FELEVBQUFBLE1BQU0sQ0FBQ0UsT0FBUCxDQUFnQkMsQ0FBRCxJQUFPO0FBQ3BCQyxJQUFBQSxPQUFPLENBQUNDLEtBQVIsQ0FBY0YsQ0FBZDtBQUNELEdBRkQ7QUFJQSxRQUFNO0FB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Q0FBQ0UsR0FBRCxFQUFNVyxRQUFOLEVBQWdCQyxPQUFoQixLQUE0QjtBQUMzQ0osSUFBQUEsTUFBTSxDQUFDRSxPQUFQLGVBQTZCO0FBQUVWLE1BQUFBLEdBQUY7QUFBT1csTUFBQUEsUUFBUDtBQUFpQkMsTUFBQUE7QUFBakIsS0FBN0I7QUFDRCxHQUZEOztBQUdBLFNBQU87QUFDTGhCLElBQUFBLE1BREs7QUFFTEMsSUFBQUEsT0FGSztBQUdMQyxJQUFBQTtBQUhLLEdBQVA7QUFLRCIsInNvdXJjZXMiOlsid2VicGFjazovL2F4b2xvdGlzLWNvcmUtcGx1Z2lucy8uL3NyYy9saWIvbW9kdWxlcy9zcG9rZS9QaG9lbml4VXRpbHMudHM/YTUwYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwicGhvZW5peFwiO1xuXG5sZXQgY29uZmlncyA9IHtcbiAgUkVUSUNVTFVNX1NPQ0tFVF9TRVJWRVJfUE9SVDogXCI0NDNcIixcbiAgUkVUSUNVTFVNX1NPQ0tFVF9TRVJWRVI6IFwiYWxwaGFodWIuYXB0ZXJvLmNvXCIsIC8vVE9ET1xuICBSRVRJQ1VMVU1fU09DS0VUX1BST1RPQ09MOiBcIndzczpcIixcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIdWJDaGFubmVsUGFyYW1zKFxuICBhdXRoVG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsLFxuICBwZXJtc1Rva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbFxuKSB7XG4gIC8qe1xuICAgICAgICBcInByb2ZpbGVcIjoge1xuICAgICAgICBcImF2YXRhcklkXCI6IFwiaHR0cHM6Ly9odWIuYXB0ZXJvLmNvL2RhdGEvYXZhdGFyL0EwMzEvYmFzZS5nbGJcIixcbiAgICAgICAgICAgIFwiZGlzcGxheU5hbWVcIjogXCJQaWVycmVcIlxuICAgIH0sXG4gICAgICAgIFwicHVzaF9zdWJzY3JpcHRpb25fZW5kcG9pbnRcIjogbnVsbCxcbiAgICAgICAgXCJhdXRoX3Rva2VuXCI6IFwiZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmhkV1FpT2lKeVpYUWlMQ0psZUhBaU9qRTJNak0yTnpjNE56VXNJbWxoZENJNk1UWXhOalF5TURJM05Td2lhWE56SWpvaWNtVjBJaXdpYW5ScElqb2lNVEJrTVdGa1ptWXRZakJsTWkwME4yUmtMV0ZpTVRndE1qWTNNR1kwWkRWaE1URmtJaXdpYm1KbUlqb3hOakUyTkRJd01qYzBMQ0p6ZFdJaU9pSTJOREEwTURjd05UQTVOall5TmprNU5qRWlMQ0owZVhBaU9pSmhZMk5sYzNNaWZRLnFwMjlJcDRBS2twUlB0VlZPVWlreXRMMXUtbEdQSmlkVWdsc1dsVzhIOWl6Z2RSc29IX2MweVp1QTA0TWl3aTZLMmlOLUdzb0NyOEtkMWZUSDB5cDJnXCIsXG4gICAgICAgIFwicGVybXNfdG9rZW5cIjogbnVsbCxcbiAgICAgICAgXCJjb250ZXh0XCI6IHtcbiAgICAgICAgXCJtb2JpbGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcImVtYmVkXCI6IHRydWVcbiAgICB9LFxuICAgICAgICBcImh1Yl9pbnZpdGVfaWRcIjogbnVsbFxuICAgIH0qL1xuICBjb25zdCBwYXJhbXMgPSB7XG4gICAgcHJvZmlsZToge1xuICAgICAgYXZhdGFySWQ6IFwiXCIsXG4gICAgICBkaXNwbGF5TmFtZTogXCJcIixcbiAgICB9LFxuICAgIHB1c2hfc3Vic2NyaXB0aW9uX2VuZHBvaW50OiBudWxsLFxuICAgIGF1dGhfdG9rZW46IG51bGwsXG4gICAgcGVybXNfdG9rZW46IG51bGwsXG4gICAgYm90X2FjY2Vzc19rZXk6IG51bGwsXG4gICAgY29udGV4dDoge1xuICAgICAgbW9iaWxlOiBmYWxzZSxcbiAgICAgIGVtYmVkOiB0cnVlLFxuICAgIH0sXG4gICAgaHViX2ludml0ZV9pZDogbnVsbCxcbiAgfTtcblxuICByZXR1cm4gcGFyYW1zO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZChcbiAgaHViaWRcbik6IFByb21pc2U8eyBkYXRhOiBhbnk7IGh1YlBoeENoYW5uZWw6IGFueTsgdmFwaWRkYXRhOiBhbnkgfT4ge1xuICBjb25zdCBzb2NrZXQgPSBhd2FpdCBjb25uZWN0VG9SZXRpY3VsdW0oKTtcbiAgc29ja2V0Lm9uQ2xvc2UoKGUpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9KTtcblxuICBjb25zdCB7IGRhdGEsIGh1YlBoeENoYW5uZWwsIHZhcGlkZGF0YSB9ID0gYXdhaXQgbmV3IFByb21pc2UoXG4gICAgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgLy8gUmV0aWN1bHVtIGdsb2JhbCBjaGFubmVsXG4gICAgICBsZXQgcmV0Q2hhbm5lbCA9IHNvY2tldC5jaGFubmVsKGByZXRgLCB7IGh1Yl9pZDogaHViaWQgfSk7XG4gICAgICByZXRDaGFubmVsXG4gICAgICAgIC5qb2luKClcbiAgICAgICAgLnJlY2VpdmUoXCJva1wiLCAodmFwaWRkYXRhKSA9PiB7XG4gICAgICAgICAgY29uc3QgaHViUGh4Q2hhbm5lbCA9IHNvY2tldC5jaGFubmVsKFxuICAgICAgICAgICAgYGh1YjpgICsgaHViaWQsXG4gICAgICAgICAgICBjcmVhdGVIdWJDaGFubmVsUGFyYW1zKClcbiAgICAgICAgICApO1xuICAgICAgICAgIGh1YlBoeENoYW5uZWxcbiAgICAgICAgICAgIC5qb2luKClcbiAgICAgICAgICAgIC5yZWNlaXZlKFwib2tcIiwgYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSh7IGRhdGEsIGh1YlBoeENoYW5uZWwsIHZhcGlkZGF0YSB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAucmVjZWl2ZShcImVycm9yXCIsIChyZXMpID0+IHtcbiAgICAgICAgICAgICAgcmVqZWN0KHJlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KHJlcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHsgZGF0YSwgaHViUGh4Q2hhbm5lbCwgdmFwaWRkYXRhIH07XG59XG5cbmxldCByZXRpY3VsdW1NZXRhOiBhbnkgPSBudWxsO1xubGV0IGludmFsaWRhdGVkUmV0aWN1bHVtTWV0YVRoaXNTZXNzaW9uID0gZmFsc2U7XG5cbmxldCBkaXJlY3RSZXRpY3VsdW1Ib3N0QW5kUG9ydDtcblxuYXN5bmMgZnVuY3Rpb24gcmVmcmVzaERpcmVjdFJldGljdWx1bUhvc3RBbmRQb3J0KCkge1xuICBjb25zdCBxcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24uc2VhcmNoKTtcbiAgbGV0IGhvc3QgPSBxcy5nZXQoXCJwaHhfaG9zdFwiKTtcbiAgaG9zdCA9IGhvc3QgfHwgY29uZmlncy5SRVRJQ1VMVU1fU09DS0VUX1NFUlZFUjtcbiAgY29uc3QgcG9ydCA9IGNvbmZpZ3MuUkVUSUNVTFVNX1NPQ0tFVF9TRVJWRVJfUE9SVDtcbiAgZGlyZWN0UmV0aWN1bHVtSG9zdEFuZFBvcnQgPSB7IGhvc3QsIHBvcnQgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGludmFsaWRhdGVSZXRpY3VsdW1NZXRhKCkge1xuICBpbnZhbGlkYXRlZFJldGljdWx1bU1ldGFUaGlzU2Vzc2lvbiA9IHRydWU7XG4gIHJldGljdWx1bU1ldGEgPSBudWxsO1xufVxuXG4vL1RPRE8gaW1wb3J0YW50IGZ1bmN0aW9uXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdFRvUmV0aWN1bHVtKFxuICBkZWJ1ZyA9IGZhbHNlLFxuICBwYXJhbXMgPSBudWxsLFxuICBzb2NrZXRDbGFzcyA9IFNvY2tldFxuKSB7XG4gIGNvbnN0IHFzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpO1xuXG4gIGNvbnN0IGdldE5ld1NvY2tldFVybCA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCByZWZyZXNoRGlyZWN0UmV0aWN1bHVtSG9zdEFuZFBvcnQoKTtcbiAgICBjb25zdCB7IGhvc3QsIHBvcnQgfSA9IGRpcmVjdFJldGljdWx1bUhvc3RBbmRQb3J0O1xuICAgIGNvbnN0IHByb3RvY29sID1cbiAgICAgIHFzLmdldChcInBoeF9wcm90b2NvbFwiKSB8fFxuICAgICAgY29uZmlncy5SRVRJQ1VMVU1fU09DS0VUX1BST1RPQ09MIHx8XG4gICAgICAoZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPT09IFwiaHR0cHM6XCIgPyBcIndzczpcIiA6IFwid3M6XCIpO1xuXG4gICAgcmV0dXJuIGAke3Byb3RvY29sfS8vJHtob3N0fSR7cG9ydCA/IGA6JHtwb3J0fWAgOiBcIlwifWA7XG4gIH07XG5cbiAgY29uc3Qgc29ja2V0VXJsID0gYXdhaXQgZ2V0TmV3U29ja2V0VXJsKCk7XG4gIGNvbnNvbGUubG9nKGBQaG9lbml4IFNvY2tldCBVUkw6ICR7c29ja2V0VXJsfWApO1xuXG4gIGNvbnN0IHNvY2tldFNldHRpbmdzOiBhbnkgPSB7fTtcblxuICBpZiAoZGVidWcpIHtcbiAgICBzb2NrZXRTZXR0aW5ncy5sb2dnZXIgPSAoa2luZCwgbXNnLCBkYXRhKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgJHtraW5kfTogJHttc2d9YCwgZGF0YSk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwYXJhbXMpIHtcbiAgICBzb2NrZXRTZXR0aW5ncy5wYXJhbXMgPSBwYXJhbXM7XG4gIH1cblxuICBjb25zdCBzb2NrZXQgPSBuZXcgc29ja2V0Q2xhc3MoYCR7c29ja2V0VXJsfS9zb2NrZXRgLCBzb2NrZXRTZXR0aW5ncyk7XG4gIHNvY2tldC5jb25uZWN0KCk7XG4gIHNvY2tldC5vbkVycm9yKGFzeW5jICgpID0+IHtcbiAgICAvLyBPbiBlcnJvciwgdW5kZXJseWluZyByZXRpY3VsdW0gbm9kZSBtYXkgaGF2ZSBkaWVkLCBzbyByZWJhbGFuY2UgYnlcbiAgICAvLyBmZXRjaGluZyBhIG5ldyBoZWFsdGh5IG5vZGUgdG8gY29ubmVjdCB0by5cbiAgICBpbnZhbGlkYXRlUmV0aWN1bHVtTWV0YSgpO1xuXG4gICAgY29uc3QgZW5kUG9pbnRQYXRoID0gbmV3IFVSTChzb2NrZXQuZW5kUG9pbnQpLnBhdGhuYW1lO1xuICAgIGNvbnN0IG5ld1NvY2tldFVybCA9IGF3YWl0IGdldE5ld1NvY2tldFVybCgpO1xuICAgIGNvbnN0IG5ld0VuZFBvaW50ID0gYCR7bmV3U29ja2V0VXJsfSR7ZW5kUG9pbnRQYXRofWA7XG4gICAgY29uc29sZS5sb2coYFNvY2tldCBlcnJvciwgY2hhbmdlZCBlbmRwb2ludCB0byAke25ld0VuZFBvaW50fWApO1xuICAgIHNvY2tldC5lbmRQb2ludCA9IG5ld0VuZFBvaW50O1xuICB9KTtcblxuICByZXR1cm4gc29ja2V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlc2VuY2VFbnRyeUZvclNlc3Npb24ocHJlc2VuY2VzLCBzZXNzaW9uSWQpIHtcbiAgY29uc3QgZW50cnkgPVxuICAgIE9iamVjdC5lbnRyaWVzKHByZXNlbmNlcyB8fCB7fSkuZmluZCgoW2tdKSA9PiBrID09PSBzZXNzaW9uSWQpIHx8IFtdO1xuICBjb25zdCBwcmVzZW5jZTogYW55ID0gZW50cnlbMV07XG4gIHJldHVybiAocHJlc2VuY2UgJiYgcHJlc2VuY2UubWV0YXMgJiYgcHJlc2VuY2UubWV0YXNbMF0pIHx8IHt9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlc2VuY2VDb250ZXh0Rm9yU2Vzc2lvbihwcmVzZW5jZXMsIHNlc3Npb25JZCkge1xuICByZXR1cm4gKGdldFByZXNlbmNlRW50cnlGb3JTZXNzaW9uKHByZXNlbmNlcywgc2Vzc2lvbklkKSB8fCB7fSkuY29udGV4dCB8fCB7fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByZXNlbmNlUHJvZmlsZUZvclNlc3Npb24ocHJlc2VuY2VzLCBzZXNzaW9uSWQpIHtcbiAgcmV0dXJuIChnZXRQcmVzZW5jZUVudHJ5Rm9yU2Vzc2lvbihwcmVzZW5jZXMsIHNlc3Npb25JZCkgfHwge30pLnByb2ZpbGUgfHwge307XG59XG5cbmZ1bmN0aW9uIG1pZ3JhdGVCaW5kaW5ncyhvbGRDaGFubmVsLCBuZXdDaGFubmVsKSB7XG4gIGNvbnN0IGRvTm90RHVwbGljYXRlID0gW1xuICAgIFwicGh4X2Nsb3NlXCIsXG4gICAgXCJwaHhfZXJyb3JcIixcbiAgICBcInBoeF9yZXBseVwiLFxuICAgIFwicHJlc2VuY2Vfc3RhdGVcIixcbiAgICBcInByZXNlbmNlX2RpZmZcIixcbiAgXTtcbiAgY29uc3Qgc2hvdWxkRHVwbGljYXRlID0gKGV2ZW50KSA9PiB7XG4gICAgcmV0dXJuICFldmVudC5zdGFydHNXaXRoKFwiY2hhbl9yZXBseV9cIikgJiYgIWRvTm90RHVwbGljYXRlLmluY2x1ZGVzKGV2ZW50KTtcbiAgfTtcbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBvbGRDaGFubmVsLmJpbmRpbmdzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IGl0ZW0gPSBvbGRDaGFubmVsLmJpbmRpbmdzW2ldO1xuICAgIGlmIChzaG91bGREdXBsaWNhdGUoaXRlbS5ldmVudCkpIHtcbiAgICAgIG5ld0NoYW5uZWwuYmluZGluZ3MucHVzaChpdGVtKTtcbiAgICB9XG4gIH1cbiAgbmV3Q2hhbm5lbC5iaW5kaW5nUmVmID0gb2xkQ2hhbm5lbC5iaW5kaW5nUmVmO1xufVxuXG4vLyBUYWtlcyB0aGUgZ2l2ZW4gY2hhbm5lbCwgYW5kIGNyZWF0ZXMgYSBuZXcgY2hhbm5lbCB3aXRoIHRoZSBzYW1lIGJpbmRpbmdzXG4vLyB3aXRoIHRoZSBnaXZlbiBzb2NrZXQsIGpvaW5zIGl0LCBhbmQgbGVhdmVzIHRoZSBvbGQgY2hhbm5lbCBhZnRlciBqb2luaW5nLlxuLy9cbi8vIE5PVEU6IFRoaXMgZnVuY3Rpb24gcmVsaWVzIHVwb24gcGhvZW5peCBjaGFubmVsIG9iamVjdCBpbnRlcm5hbHMsIHNvIHRoaXNcbi8vIGZ1bmN0aW9uIHdpbGwgbmVlZCB0byBiZSByZXZpZXdlZCBpZi93aGVuIHdlIGV2ZXIgdXBkYXRlIHBob2VuaXguanNcbmV4cG9ydCBmdW5jdGlvbiBtaWdyYXRlQ2hhbm5lbFRvU29ja2V0KG9sZENoYW5uZWwsIHNvY2tldCwgcGFyYW1zKSB7XG4gIGNvbnN0IGNoYW5uZWwgPSBzb2NrZXQuY2hhbm5lbChvbGRDaGFubmVsLnRvcGljLCBwYXJhbXMgfHwgb2xkQ2hhbm5lbC5wYXJhbXMpO1xuXG4gIG1pZ3JhdGVCaW5kaW5ncyhvbGRDaGFubmVsLCBjaGFubmVsKTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IG9sZENoYW5uZWwucHVzaEJ1ZmZlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCBpdGVtID0gb2xkQ2hhbm5lbC5wdXNoQnVmZmVyW2ldO1xuICAgIGNoYW5uZWwucHVzaChpdGVtLmV2ZW50LCBpdGVtLnBheWxvYWQsIGl0ZW0udGltZW91dCk7XG4gIH1cblxuICBjb25zdCBvbGRKb2luUHVzaCA9IG9sZENoYW5uZWwuam9pblB1c2g7XG4gIGNvbnN0IGpvaW5QdXNoID0gY2hhbm5lbC5qb2luKCk7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBvbGRKb2luUHVzaC5yZWNIb29rcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCBpdGVtID0gb2xkSm9pblB1c2gucmVjSG9va3NbaV07XG4gICAgam9pblB1c2gucmVjZWl2ZShpdGVtLnN0YXR1cywgaXRlbS5jYWxsYmFjayk7XG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBqb2luUHVzaC5yZWNlaXZlKFwib2tcIiwgKCkgPT4ge1xuICAgICAgLy8gQ2xlYXIgYWxsIGV2ZW50IGhhbmRsZXJzIGZpcnN0IHNvIG5vIGR1cGxpY2F0ZSBtZXNzYWdlcyBjb21lIGluLlxuICAgICAgb2xkQ2hhbm5lbC5iaW5kaW5ncyA9IFtdO1xuICAgICAgcmVzb2x2ZShjaGFubmVsKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtaWdyYXRlVG9DaGFubmVsKG9sZENoYW5uZWwsIG5ld0NoYW5uZWwpIHtcbiAgbWlncmF0ZUJpbmRpbmdzKG9sZENoYW5uZWwsIG5ld0NoYW5uZWwpO1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbmV3Q2hhbm5lbFxuICAgICAgLmpvaW4oKVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAoZGF0YSkgPT4ge1xuICAgICAgICBvbGRDaGFubmVsLmxlYXZlKCk7XG4gICAgICAgIG9sZENoYW5uZWwuYmluZGluZ3MgPSBbXTtcbiAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgIH0pXG4gICAgICAucmVjZWl2ZShcImVycm9yXCIsIChkYXRhKSA9PiB7XG4gICAgICAgIG5ld0NoYW5uZWwubGVhdmUoKTtcbiAgICAgICAgcmVqZWN0KGRhdGEpO1xuICAgICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzY29yZEJyaWRnZXNGb3JQcmVzZW5jZXMocHJlc2VuY2VzOiBhbnlbXSkge1xuICBjb25zdCBjaGFubmVscyA9IFtdO1xuICBmb3IgKGNvbnN0IHAgb2YgT2JqZWN0LnZhbHVlcyhwcmVzZW5jZXMpKSB7XG4gICAgZm9yIChjb25zdCBtIG9mIHAubWV0YXMpIHtcbiAgICAgIGlmIChtLnByb2ZpbGUgJiYgbS5wcm9maWxlLmRpc2NvcmRCcmlkZ2VzKSB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KFxuICAgICAgICAgIGNoYW5uZWxzLFxuICAgICAgICAgIG0ucHJvZmlsZS5kaXNjb3JkQnJpZGdlcy5tYXAoKGIpID0+IGIuY2hhbm5lbC5uYW1lKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY2hhbm5lbHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNFbWJlZFByZXNlbmNlcyhwcmVzZW5jZXM6IGFueVtdKSB7XG4gIGZvciAoY29uc3QgcCBvZiBPYmplY3QudmFsdWVzKHByZXNlbmNlcykpIHtcbiAgICBmb3IgKGNvbnN0IG0gb2YgcC5tZXRhcykge1xuICAgICAgaWYgKG0uY29udGV4dCAmJiBtLmNvbnRleHQuZW1iZWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVub2lzZVByZXNlbmNlKHsgb25Kb2luLCBvbkxlYXZlLCBvbkNoYW5nZSB9KSB7XG4gIHJldHVybiB7XG4gICAgcmF3T25Kb2luOiAoa2V5LCBiZWZvcmVKb2luLCBhZnRlckpvaW4pID0+IHtcbiAgICAgIGlmIChiZWZvcmVKb2luID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb25Kb2luKGtleSwgYWZ0ZXJKb2luLm1ldGFzWzBdKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJhd09uTGVhdmU6IChrZXksIHJlbWFpbmluZywgcmVtb3ZlZCkgPT4ge1xuICAgICAgaWYgKHJlbWFpbmluZy5tZXRhcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgb25MZWF2ZShrZXksIHJlbW92ZWQubWV0YXNbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25DaGFuZ2UoXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIHJlbW92ZWQubWV0YXNbcmVtb3ZlZC5tZXRhcy5sZW5ndGggLSAxXSxcbiAgICAgICAgICByZW1haW5pbmcubWV0YXNbcmVtYWluaW5nLm1ldGFzLmxlbmd0aCAtIDFdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXNlbmNlRXZlbnRzRm9ySHViKGV2ZW50cykge1xuICBjb25zdCBvbkpvaW4gPSAoa2V5LCBtZXRhKSA9PiB7XG4gICAgZXZlbnRzLnRyaWdnZXIoYGh1Yjpqb2luYCwgeyBrZXksIG1ldGEgfSk7XG4gIH07XG4gIGNvbnN0IG9uTGVhdmUgPSAoa2V5LCBtZXRhKSA9PiB7XG4gICAgZXZlbnRzLnRyaWdnZXIoYGh1YjpsZWF2ZWAsIHsga2V5LCBtZXRhIH0pO1xuICB9O1xuICBjb25zdCBvbkNoYW5nZSA9IChrZXksIHByZXZpb3VzLCBjdXJyZW50KSA9PiB7XG4gICAgZXZlbnRzLnRyaWdnZXIoYGh1YjpjaGFuZ2VgLCB7IGtleSwgcHJldmlvdXMsIGN1cnJlbnQgfSk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgb25Kb2luLFxuICAgIG9uTGVhdmUsXG4gICAgb25DaGFuZ2UsXG4gIH07XG59XG4iXSwibmFtZXMiOlsiU29ja2V0IiwiY29uZmlncyIsIlJFVElDVUxVTV9TT0NLRVRfU0VSVkVSX1BPUlQiLCJSRVRJQ1VMVU1fU09DS0VUX1NFUlZFUiIsIlJFVElDVUxVTV9TT0NLRVRfUFJPVE9DT0wiLCJjcmVhdGVIdWJDaGFubmVsUGFyYW1zIiwiYXV0aFRva2VuIiwicGVybXNUb2tlbiIsInBhcmFtcyIsInByb2ZpbGUiLCJhdmF0YXJJZCIsImRpc3BsYXlOYW1lIiwicHVzaF9zdWJzY3JpcHRpb25fZW5kcG9pbnQiLCJhdXRoX3Rva2VuIiwicGVybXNfdG9rZW4iLCJib3RfYWNjZXNzX2tleSIsImNvbnRleHQiLCJtb2JpbGUiLCJlbWJlZCIsImh1Yl9pbnZpdGVfaWQiLCJsb2FkIiwiaHViaWQiLCJzb2NrZXQiLCJjb25uZWN0VG9SZXRpY3VsdW0iLCJvbkNsb3NlIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImRhdGEiLCJodWJQaHhDaGFubmVsIiwidmFwaWRkYXRhIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXRDaGFubmVsIiwiY2hhbm5lbCIsImh1Yl9pZCIsImpvaW4iLCJyZWNlaXZlIiwicmVzIiwicmV0aWN1bHVtTWV0YSIsImludmFsaWRhdGVkUmV0aWN1bHVtTWV0YVRoaXNTZXNzaW9uIiwiZGlyZWN0UmV0aWN1bHVtSG9zdEFuZFBvcnQiLCJyZWZyZXNoRGlyZWN0UmV0aWN1bHVtSG9zdEFuZFBvcnQiLCJxcyIsIlVSTFNlYXJjaFBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoIiwiaG9zdCIsImdldCIsInBvcnQiLCJpbnZhbGlkYXRlUmV0aWN1bHVtTWV0YSIsImRlYnVnIiwic29ja2V0Q2xhc3MiLCJnZXROZXdTb2NrZXRVcmwiLCJwcm90b2NvbCIsImRvY3VtZW50Iiwic29ja2V0VXJsIiwibG9nIiwic29ja2V0U2V0dGluZ3MiLCJsb2dnZXIiLCJraW5kIiwibXNnIiwiY29ubmVjdCIsIm9uRXJyb3IiLCJlbmRQb2ludFBhdGgiLCJVUkwiLCJlbmRQb2ludCIsInBhdGhuYW1lIiwibmV3U29ja2V0VXJsIiwibmV3RW5kUG9pbnQiLCJnZXRQcmVzZW5jZUVudHJ5Rm9yU2Vzc2lvbiIsInByZXNlbmNlcyIsInNlc3Npb25JZCIsImVudHJ5IiwiT2JqZWN0IiwiZW50cmllcyIsImZpbmQiLCJrIiwicHJlc2VuY2UiLCJtZXRhcyIsImdldFByZXNlbmNlQ29udGV4dEZvclNlc3Npb24iLCJnZXRQcmVzZW5jZVByb2ZpbGVGb3JTZXNzaW9uIiwibWlncmF0ZUJpbmRpbmdzIiwib2xkQ2hhbm5lbCIsIm5ld0NoYW5uZWwiLCJkb05vdER1cGxpY2F0ZSIsInNob3VsZER1cGxpY2F0ZSIsImV2ZW50Iiwic3RhcnRzV2l0aCIsImluY2x1ZGVzIiwiaSIsImwiLCJiaW5kaW5ncyIsImxlbmd0aCIsIml0ZW0iLCJwdXNoIiwiYmluZGluZ1JlZiIsIm1pZ3JhdGVDaGFubmVsVG9Tb2NrZXQiLCJ0b3BpYyIsInB1c2hCdWZmZXIiLCJwYXlsb2FkIiwidGltZW91dCIsIm9sZEpvaW5QdXNoIiwiam9pblB1c2giLCJyZWNIb29rcyIsInN0YXR1cyIsImNhbGxiYWNrIiwibWlncmF0ZVRvQ2hhbm5lbCIsImxlYXZlIiwiZGlzY29yZEJyaWRnZXNGb3JQcmVzZW5jZXMiLCJjaGFubmVscyIsInAiLCJ2YWx1ZXMiLCJtIiwiZGlzY29yZEJyaWRnZXMiLCJBcnJheSIsInByb3RvdHlwZSIsImFwcGx5IiwibWFwIiwiYiIsIm5hbWUiLCJoYXNFbWJlZFByZXNlbmNlcyIsImRlbm9pc2VQcmVzZW5jZSIsIm9uSm9pbiIsIm9uTGVhdmUiLCJvbkNoYW5nZSIsInJhd09uSm9pbiIsImtleSIsImJlZm9yZUpvaW4iLCJhZnRlckpvaW4iLCJ1bmRlZmluZWQiLCJyYXdPbkxlYXZlIiwicmVtYWluaW5nIiwicmVtb3ZlZCIsInByZXNlbmNlRXZlbnRzRm9ySHViIiwiZXZlbnRzIiwibWV0YSIsInRyaWdnZXIiLCJwcmV2aW91cyIsImN1cnJlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/modules/spoke/PhoenixUtils.ts\n')},"./src/lib/modules/spoke/SceneLoader.ts":
/*!**********************************************!*\
  !*** ./src/lib/modules/spoke/SceneLoader.ts ***!
  \**********************************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": function() { return /* binding */ SceneLoader; }\n/* harmony export */ });\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass SceneLoader {\n  constructor() {\n    _defineProperty(this, "scene", void 0);\n\n    _defineProperty(this, "mesh", void 0);\n\n    _defineProperty(this, "navMesh", void 0);\n  }\n\n  async loadScene(sceneUrl, threeLib) {\n    this.scene = threeLib.scene;\n    this.mesh = await threeLib.loadAssets(sceneUrl);\n    this.mesh = this.mesh.scene;\n    this.mesh.traverse(node => {\n      if (node.isMesh) {\n        if (node.name === "navMesh") {\n          this.navMesh = node;\n        }\n      }\n    });\n    this.scene.add(this.mesh);\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL21vZHVsZXMvc3Bva2UvU2NlbmVMb2FkZXIudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRWUsTUFBTUEsV0FBTixDQUFrQjtBQUsvQkMsRUFBQUEsV0FBVyxHQUFHO0FBQUE7O0FBQUE7O0FBQUE7QUFBRTs7QUFFRCxRQUFUQyxTQUFTLENBQUNDLFFBQUQsRUFBbUJDLFFBQW5CLEVBQXVDO0FBQ3BELFNBQUtDLEtBQUwsR0FBYUQsUUFBUSxDQUFDQyxLQUF0QjtBQUNBLFNBQUtDLElBQUwsR0FBWSxNQUFNRixRQUFRLENBQUNHLFVBQVQsQ0FBb0JKLFFBQXBCLENBQWxCO0FBQ0EsU0FBS0csSUFBTCxHQUFZLEtBQUtBLElBQUwsQ0FBVUQsS0FBdEI7QUFFQSxTQUFLQyxJQUFMLENBQVVFLFFBQVYsQ0FBb0JDLElBQUQsSUFBVTtBQUMzQixVQUFJQSxJQUFJLENBQUNDLE1BQVQsRUFBaUI7QUFDZixZQUFJRCxJQUFJLENBQUNFLElBQUwsS0FBYyxTQUFsQixFQUE2QjtBQUMzQixlQUFLQyxPQUFMLEdBQWVILElBQWY7QUFDRDtBQUNGO0FBQ0YsS0FORDtBQVFBLFNBQUtKLEtBQUwsQ0FBV1EsR0FBWCxDQUFlLEtBQUtQLElBQXBCO0FBQ0Q7O0FBckI4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2F4b2xvdGlzLWNvcmUtcGx1Z2lucy8uL3NyYy9saWIvbW9kdWxlcy9zcG9rZS9TY2VuZUxvYWRlci50cz8zNjg4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRocmVlTGliIH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL3RocmVlL1RocmVlTGliXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjZW5lTG9hZGVyIHtcbiAgcHJpdmF0ZSBzY2VuZTogYW55O1xuICBwcml2YXRlIG1lc2g6IGFueTtcbiAgcHVibGljIG5hdk1lc2g6IGFueTtcblxuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgYXN5bmMgbG9hZFNjZW5lKHNjZW5lVXJsOiBzdHJpbmcsIHRocmVlTGliOiBUaHJlZUxpYikge1xuICAgIHRoaXMuc2NlbmUgPSB0aHJlZUxpYi5zY2VuZTtcbiAgICB0aGlzLm1lc2ggPSBhd2FpdCB0aHJlZUxpYi5sb2FkQXNzZXRzKHNjZW5lVXJsKTtcbiAgICB0aGlzLm1lc2ggPSB0aGlzLm1lc2guc2NlbmU7XG5cbiAgICB0aGlzLm1lc2gudHJhdmVyc2UoKG5vZGUpID0+IHtcbiAgICAgIGlmIChub2RlLmlzTWVzaCkge1xuICAgICAgICBpZiAobm9kZS5uYW1lID09PSBcIm5hdk1lc2hcIikge1xuICAgICAgICAgIHRoaXMubmF2TWVzaCA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMubWVzaCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJTY2VuZUxvYWRlciIsImNvbnN0cnVjdG9yIiwibG9hZFNjZW5lIiwic2NlbmVVcmwiLCJ0aHJlZUxpYiIsInNjZW5lIiwibWVzaCIsImxvYWRBc3NldHMiLCJ0cmF2ZXJzZSIsIm5vZGUiLCJpc01lc2giLCJuYW1lIiwibmF2TWVzaCIsImFkZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/modules/spoke/SceneLoader.ts\n')},"./src/lib/modules/spoke/SpokeRoomLoader.ts":
/*!**************************************************!*\
  !*** ./src/lib/modules/spoke/SpokeRoomLoader.ts ***!
  \**************************************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Factory": function() { return /* binding */ Factory; },\n/* harmony export */   "SpokeRoomLoader": function() { return /* binding */ SpokeRoomLoader; }\n/* harmony export */ });\n/* harmony import */ var _aptero_axolotis_player__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aptero/axolotis-player */ "../axolotis-player/build/index.js");\n/* harmony import */ var _aptero_axolotis_player__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_aptero_axolotis_player__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _root_lib_modules_spoke_SceneLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @root/lib/modules/spoke/SceneLoader */ "./src/lib/modules/spoke/SceneLoader.ts");\n/* harmony import */ var _root_lib_modules_spoke_PhoenixUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @root/lib/modules/spoke/PhoenixUtils */ "./src/lib/modules/spoke/PhoenixUtils.ts");\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//import { ServiceEntity } from "@aptero/axolotis-player/build/types/modules/core/service/ServiceEntity";\n\n\n\nclass SpokeRoomLoader {\n  constructor(threeLib) {\n    this.threeLib = threeLib;\n\n    _defineProperty(this, "sceneLoader", null);\n  }\n\n  async loadRoom(hubid) {\n    const {\n      data,\n      hubPhxChannel,\n      vapiddata\n    } = await (0,_root_lib_modules_spoke_PhoenixUtils__WEBPACK_IMPORTED_MODULE_2__.load)(hubid);\n    const sceneURL = data.hubs[0].scene.model_url.replace(".bin", ".glb");\n    this.sceneLoader = new _root_lib_modules_spoke_SceneLoader__WEBPACK_IMPORTED_MODULE_1__["default"]();\n    await this.sceneLoader.loadScene(sceneURL, this.threeLib);\n  }\n\n  getType() {\n    return SpokeRoomLoader.name;\n  }\n\n}\nclass Factory {\n  async createComponent(world, config) {\n    let services = world.getFirstComponentByType(_aptero_axolotis_player__WEBPACK_IMPORTED_MODULE_0__.ServiceEntity.name);\n    let three = await services.getService("@aptero/axolotis-core-plugins/modules/three/ThreeLib");\n    let playerService = await services.getService("@aptero/axolotis-core-plugins/modules/controller/PlayerService");\n    let spokeRoomLoader = new SpokeRoomLoader(three);\n    await spokeRoomLoader.loadRoom(config.room);\n\n    if (spokeRoomLoader.sceneLoader) {\n      playerService.getCurrentPlayer().declareNavMesh(spokeRoomLoader.sceneLoader.navMesh);\n    }\n\n    return spokeRoomLoader;\n  }\n\n}\n/*\nHave to connect to the phoenix websocket\nand get scene url from message from\n["2", "2", "hub:yUXD7A2", "phx_reply", {\n    "response": {\n        "hub_requires_oauth": false,\n        "hubs": [{\n            "allow_promotion": true,\n            "description": null,\n            "embed_token": "c223b27b9e6f48c5591b4b140fe7de6f",\n            "entry_code": 180429,\n            "entry_mode": "allow",\n            "host": "dedicatedwebrtc3.aptero.co",\n            "hub_id": "yUXD7A2",\n            "lobby_count": 0,\n            "member_count": 0,\n            "member_permissions": {\n                "fly": true,\n                "pin_objects": true,\n                "spawn_and_move_media": true,\n                "spawn_camera": true,\n                "spawn_drawing": true,\n                "spawn_emoji": true\n            },\n            "name": "Lightweight Empty Room",\n            "port": "443",\n            "room_size": 50,\n            "scene": {\n                "account_id": null,\n                "allow_promotion": false,\n                "allow_remixing": false,\n                "attribution": null,\n                "attributions": { "content": [], "creator": "" },\n                "description": null,\n                "model_url": "https://alphahub.aptero.co/files/598eeed3-0768-408a-a75b-b0fcb8e907af.bin",\n                "name": "Museum",\n                "parent_scene_id": null,\n                "project_id": "wwDyQ8t",\n                "scene_id": "br4pVT2",\n                "screenshot_url": "https://alphahub.aptero.co/files/38473f11-615f-487d-b20b-f3b6558abea6.jpg",\n                "type": "scene",\n                "url": "https://alphahub.aptero.co/scenes/br4pVT2/museum"\n            },\n            "slug": "lightweight-empty-room",\n            "turn": {\n                "credential": "CWBiIUroBx9x7OITbxMrm54HiJw=",\n                "enabled": true,\n                "transports": [{ "port": 5349 }],\n                "username": "1636140736:coturn"\n            },\n            "user_data": null\n        }],\n        "perms_token": "eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50X2lkIjoiNjQwNDA3MDUwOTY2MjY5OTYxIiwiYW1wbGlmeV9hdWRpbyI6dHJ1ZSwiYXVkIjoicmV0X3Blcm1zIiwiY2xvc2VfaHViIjp0cnVlLCJjcmVhdGVfaHViIjp0cnVlLCJlbWJlZF9odWIiOnRydWUsImV4cCI6MTYzNjE0MDkxNiwiZmx5Ijp0cnVlLCJodWJfaWQiOiJ5VVhEN0EyIiwiaWF0IjoxNjM2MTQwNjE2LCJpc3MiOiIiLCJqb2luX2h1YiI6dHJ1ZSwianRpIjoiZjhkNGU2MDMtMWE0NC00MWRmLTg5NWMtNjE3ZGVhYzc5ZDI4Iiwia2lja191c2VycyI6dHJ1ZSwibXV0ZV91c2VycyI6dHJ1ZSwibmJmIjoxNjM2MTQwNjE1LCJwaW5fb2JqZWN0cyI6dHJ1ZSwicG9zdGdyZXN0X3JvbGUiOiJyZXRfYWRtaW4iLCJzcGF3bl9hbmRfbW92ZV9tZWRpYSI6dHJ1ZSwic3Bhd25fY2FtZXJhIjp0cnVlLCJzcGF3bl9kcmF3aW5nIjp0cnVlLCJzcGF3bl9lbW9qaSI6dHJ1ZSwic3ViIjoiNjQwNDA3MDUwOTY2MjY5OTYxX3lVWEQ3QTIiLCJ0d2VldCI6ZmFsc2UsInR5cCI6ImFjY2VzcyIsInVwZGF0ZV9odWIiOnRydWUsInVwZGF0ZV9odWJfcHJvbW90aW9uIjp0cnVlLCJ1cGRhdGVfcm9sZXMiOnRydWV9.qlNJloKYDmc2wSTaKF1eVYKKV_lCuuwzfdRnq3Jc-OP9P5uhKiFzo1i9N6rHBCIfITEwp8fJouD7TNOrBvpwFgxR1JHTgOpgWTdD6ltxRGspbtJRMJQ7qa66WTrVxKup4fI1ah70dFIsHu26GNdUaaNp8503VYuo41Dzs0XnTT1bLjbNM0ugJ_ZaF_d24b1m_7dLKdAn0-aZkoTQSCl3wzNDKLE90B2FJT6Mc7hqeo8d0mhr3yNQSRyJ4xLS0TBG4fvFZQL5H_bRD4Fk-q17jeMAgIAvtquElbs1cYRnQFE3g-PcsRYYRsejWaz4PEJUlZ5MM5tbohM5XoVHdRT8ZA",\n        "session_id": "a3c750b8-6446-4a1e-a638-c516073d8861",\n        "session_token": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJyZXRfc2Vzc2lvbiIsImV4cCI6MTYzNjIyNzAxNiwiaWF0IjoxNjM2MTQwNjE2LCJpc3MiOiIiLCJqdGkiOiIzNDk4Yjg4OC01NjA0LTQxYzctYWFmZC0xMjI5NmU4YmNlYTIiLCJuYmYiOjE2MzYxNDA2MTUsInNlc3Npb25faWQiOiJhM2M3NTBiOC02NDQ2LTRhMWUtYTYzOC1jNTE2MDczZDg4NjEiLCJzdWIiOiJhM2M3NTBiOC02NDQ2LTRhMWUtYTYzOC1jNTE2MDczZDg4NjEiLCJ0eXAiOiJhY2Nlc3MifQ.EbEzkgwNJ8_H4g8vxFI-ch9HprbzNh12xkfj-OrUOkUqTF-j-qEpsF-XFIZozSlCU2cwJVD7RLuxNOuqDVF76g",\n        "subscriptions": { "favorites": true, "web_push": null }\n    }, "status": "ok"\n}];\n\n *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL21vZHVsZXMvc3Bva2UvU3Bva2VSb29tTG9hZGVyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFFTyxNQUFNRyxlQUFOLENBQTJDO0FBR2hEQyxFQUFBQSxXQUFXLENBQVNDLFFBQVQsRUFBNkI7QUFBQSxTQUFwQkEsUUFBb0IsR0FBcEJBLFFBQW9COztBQUFBLHlDQUZDLElBRUQ7QUFBRTs7QUFFNUIsUUFBUkMsUUFBUSxDQUFDQyxLQUFELEVBQVE7QUFDcEIsVUFBTTtBQUFFQyxNQUFBQSxJQUFGO0FBQVFDLE1BQUFBLGFBQVI7QUFBdUJDLE1BQUFBO0FBQXZCLFFBQXFDLE1BQU1SLDBFQUFJLENBQUNLLEtBQUQsQ0FBckQ7QUFDQSxVQUFNSSxRQUFRLEdBQUdILElBQUksQ0FBQ0ksSUFBTCxDQUFVLENBQVYsRUFBYUMsS0FBYixDQUFtQkMsU0FBbkIsQ0FBNkJDLE9BQTdCLENBQXFDLE1BQXJDLEVBQTZDLE1BQTdDLENBQWpCO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQixJQUFJZiwyRUFBSixFQUFuQjtBQUNBLFVBQU0sS0FBS2UsV0FBTCxDQUFpQkMsU0FBakIsQ0FBMkJOLFFBQTNCLEVBQXFDLEtBQUtOLFFBQTFDLENBQU47QUFDRDs7QUFFRGEsRUFBQUEsT0FBTyxHQUFXO0FBQ2hCLFdBQU9mLGVBQWUsQ0FBQ2dCLElBQXZCO0FBQ0Q7O0FBZCtDO0FBaUIzQyxNQUFNQyxPQUFOLENBRVA7QUFDdUIsUUFBZkMsZUFBZSxDQUNuQkMsS0FEbUIsRUFFbkJDLE1BRm1CLEVBR087QUFDMUIsUUFBSUMsUUFBUSxHQUFHRixLQUFLLENBQUNHLHVCQUFOLENBQ2J6Qix1RUFEYSxDQUFmO0FBR0EsUUFBSTBCLEtBQUssR0FBRyxNQUFNRixRQUFRLENBQUNHLFVBQVQsQ0FDaEIsc0RBRGdCLENBQWxCO0FBR0EsUUFBSUMsYUFBYSxHQUFHLE1BQU1KLFFBQVEsQ0FBQ0csVUFBVCxDQUN4QixnRUFEd0IsQ0FBMUI7QUFHQSxRQUFJRSxlQUFlLEdBQUcsSUFBSTFCLGVBQUosQ0FBb0J1QixLQUFwQixDQUF0QjtBQUNBLFVBQU1HLGVBQWUsQ0FBQ3ZCLFFBQWhCLENBQXlCaUIsTUFBTSxDQUFDTyxJQUFoQyxDQUFOOztBQUNBLFFBQUlELGVBQWUsQ0FBQ2IsV0FBcEIsRUFBaUM7QUFDL0JZLE1BQUFBLGFBQWEsQ0FDVkcsZ0JBREgsR0FFR0MsY0FGSCxDQUVrQkgsZUFBZSxDQUFDYixXQUFoQixDQUE0QmlCLE9BRjlDO0FBR0Q7O0FBQ0QsV0FBT0osZUFBUDtBQUNEOztBQXRCSDtBQXlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9heG9sb3Rpcy1jb3JlLXBsdWdpbnMvLi9zcmMvbGliL21vZHVsZXMvc3Bva2UvU3Bva2VSb29tTG9hZGVyLnRzPzgyNmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiQGFwdGVyby9heG9sb3Rpcy1wbGF5ZXIvYnVpbGQvdHlwZXMvbW9kdWxlcy9jb3JlL2Vjcy9Db21wb25lbnRcIjtcbmltcG9ydCB7IFdlYnBhY2tMYXp5TW9kdWxlIH0gZnJvbSBcIkBhcHRlcm8vYXhvbG90aXMtcGxheWVyL2J1aWxkL3R5cGVzL21vZHVsZXMvY29yZS9sb2FkZXIvV2VicGFja0xvYWRlclwiO1xuaW1wb3J0IHsgQ29tcG9uZW50RmFjdG9yeSB9IGZyb20gXCJAYXB0ZXJvL2F4b2xvdGlzLXBsYXllci9idWlsZC90eXBlcy9tb2R1bGVzL2NvcmUvZWNzL0NvbXBvbmVudEZhY3RvcnlcIjtcbmltcG9ydCB7IFdvcmxkRW50aXR5IH0gZnJvbSBcIkBhcHRlcm8vYXhvbG90aXMtcGxheWVyL2J1aWxkL3R5cGVzL21vZHVsZXMvY29yZS9lY3MvV29ybGRFbnRpdHlcIjtcbi8vaW1wb3J0IHsgU2VydmljZUVudGl0eSB9IGZyb20gXCJAYXB0ZXJvL2F4b2xvdGlzLXBsYXllci9idWlsZC90eXBlcy9tb2R1bGVzL2NvcmUvc2VydmljZS9TZXJ2aWNlRW50aXR5XCI7XG5pbXBvcnQgeyBTZXJ2aWNlRW50aXR5IH0gZnJvbSBcIkBhcHRlcm8vYXhvbG90aXMtcGxheWVyXCI7XG5pbXBvcnQgU2NlbmVMb2FkZXIgZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL3Nwb2tlL1NjZW5lTG9hZGVyXCI7XG5pbXBvcnQgeyBUaHJlZUxpYiB9IGZyb20gXCJAcm9vdC9saWIvbW9kdWxlcy90aHJlZS9UaHJlZUxpYlwiO1xuaW1wb3J0IHsgUGxheWVyU2VydmljZSB9IGZyb20gXCJAcm9vdC9saWIvbW9kdWxlcy9jb250cm9sbGVyL1BsYXllclNlcnZpY2VcIjtcbmltcG9ydCB7IGxvYWQgfSBmcm9tIFwiQHJvb3QvbGliL21vZHVsZXMvc3Bva2UvUGhvZW5peFV0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBTcG9rZVJvb21Mb2FkZXIgaW1wbGVtZW50cyBDb21wb25lbnQge1xuICBwdWJsaWMgc2NlbmVMb2FkZXI6IFNjZW5lTG9hZGVyIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSB0aHJlZUxpYjogVGhyZWVMaWIpIHt9XG5cbiAgYXN5bmMgbG9hZFJvb20oaHViaWQpIHtcbiAgICBjb25zdCB7IGRhdGEsIGh1YlBoeENoYW5uZWwsIHZhcGlkZGF0YSB9ID0gYXdhaXQgbG9hZChodWJpZCk7XG4gICAgY29uc3Qgc2NlbmVVUkwgPSBkYXRhLmh1YnNbMF0uc2NlbmUubW9kZWxfdXJsLnJlcGxhY2UoXCIuYmluXCIsIFwiLmdsYlwiKTtcbiAgICB0aGlzLnNjZW5lTG9hZGVyID0gbmV3IFNjZW5lTG9hZGVyKCk7XG4gICAgYXdhaXQgdGhpcy5zY2VuZUxvYWRlci5sb2FkU2NlbmUoc2NlbmVVUkwsIHRoaXMudGhyZWVMaWIpO1xuICB9XG5cbiAgZ2V0VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBTcG9rZVJvb21Mb2FkZXIubmFtZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmFjdG9yeVxuICBpbXBsZW1lbnRzIFdlYnBhY2tMYXp5TW9kdWxlLCBDb21wb25lbnRGYWN0b3J5PFNwb2tlUm9vbUxvYWRlcj5cbntcbiAgYXN5bmMgY3JlYXRlQ29tcG9uZW50KFxuICAgIHdvcmxkOiBXb3JsZEVudGl0eSxcbiAgICBjb25maWc6IGFueVxuICApOiBQcm9taXNlPFNwb2tlUm9vbUxvYWRlcj4ge1xuICAgIGxldCBzZXJ2aWNlcyA9IHdvcmxkLmdldEZpcnN0Q29tcG9uZW50QnlUeXBlPFNlcnZpY2VFbnRpdHk+KFxuICAgICAgU2VydmljZUVudGl0eS5uYW1lXG4gICAgKTtcbiAgICBsZXQgdGhyZWUgPSBhd2FpdCBzZXJ2aWNlcy5nZXRTZXJ2aWNlPFRocmVlTGliPihcbiAgICAgIFwiQGFwdGVyby9heG9sb3Rpcy1jb3JlLXBsdWdpbnMvbW9kdWxlcy90aHJlZS9UaHJlZUxpYlwiXG4gICAgKTtcbiAgICBsZXQgcGxheWVyU2VydmljZSA9IGF3YWl0IHNlcnZpY2VzLmdldFNlcnZpY2U8UGxheWVyU2VydmljZT4oXG4gICAgICBcIkBhcHRlcm8vYXhvbG90aXMtY29yZS1wbHVnaW5zL21vZHVsZXMvY29udHJvbGxlci9QbGF5ZXJTZXJ2aWNlXCJcbiAgICApO1xuICAgIGxldCBzcG9rZVJvb21Mb2FkZXIgPSBuZXcgU3Bva2VSb29tTG9hZGVyKHRocmVlKTtcbiAgICBhd2FpdCBzcG9rZVJvb21Mb2FkZXIubG9hZFJvb20oY29uZmlnLnJvb20pO1xuICAgIGlmIChzcG9rZVJvb21Mb2FkZXIuc2NlbmVMb2FkZXIpIHtcbiAgICAgIHBsYXllclNlcnZpY2VcbiAgICAgICAgLmdldEN1cnJlbnRQbGF5ZXIoKVxuICAgICAgICAuZGVjbGFyZU5hdk1lc2goc3Bva2VSb29tTG9hZGVyLnNjZW5lTG9hZGVyLm5hdk1lc2gpO1xuICAgIH1cbiAgICByZXR1cm4gc3Bva2VSb29tTG9hZGVyO1xuICB9XG59XG5cbi8qXG5IYXZlIHRvIGNvbm5lY3QgdG8gdGhlIHBob2VuaXggd2Vic29ja2V0XG5hbmQgZ2V0IHNjZW5lIHVybCBmcm9tIG1lc3NhZ2UgZnJvbVxuW1wiMlwiLCBcIjJcIiwgXCJodWI6eVVYRDdBMlwiLCBcInBoeF9yZXBseVwiLCB7XG4gICAgXCJyZXNwb25zZVwiOiB7XG4gICAgICAgIFwiaHViX3JlcXVpcmVzX29hdXRoXCI6IGZhbHNlLFxuICAgICAgICBcImh1YnNcIjogW3tcbiAgICAgICAgICAgIFwiYWxsb3dfcHJvbW90aW9uXCI6IHRydWUsXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IG51bGwsXG4gICAgICAgICAgICBcImVtYmVkX3Rva2VuXCI6IFwiYzIyM2IyN2I5ZTZmNDhjNTU5MWI0YjE0MGZlN2RlNmZcIixcbiAgICAgICAgICAgIFwiZW50cnlfY29kZVwiOiAxODA0MjksXG4gICAgICAgICAgICBcImVudHJ5X21vZGVcIjogXCJhbGxvd1wiLFxuICAgICAgICAgICAgXCJob3N0XCI6IFwiZGVkaWNhdGVkd2VicnRjMy5hcHRlcm8uY29cIixcbiAgICAgICAgICAgIFwiaHViX2lkXCI6IFwieVVYRDdBMlwiLFxuICAgICAgICAgICAgXCJsb2JieV9jb3VudFwiOiAwLFxuICAgICAgICAgICAgXCJtZW1iZXJfY291bnRcIjogMCxcbiAgICAgICAgICAgIFwibWVtYmVyX3Blcm1pc3Npb25zXCI6IHtcbiAgICAgICAgICAgICAgICBcImZseVwiOiB0cnVlLFxuICAgICAgICAgICAgICAgIFwicGluX29iamVjdHNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBcInNwYXduX2FuZF9tb3ZlX21lZGlhXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgXCJzcGF3bl9jYW1lcmFcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBcInNwYXduX2RyYXdpbmdcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBcInNwYXduX2Vtb2ppXCI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJMaWdodHdlaWdodCBFbXB0eSBSb29tXCIsXG4gICAgICAgICAgICBcInBvcnRcIjogXCI0NDNcIixcbiAgICAgICAgICAgIFwicm9vbV9zaXplXCI6IDUwLFxuICAgICAgICAgICAgXCJzY2VuZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJhY2NvdW50X2lkXCI6IG51bGwsXG4gICAgICAgICAgICAgICAgXCJhbGxvd19wcm9tb3Rpb25cIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgXCJhbGxvd19yZW1peGluZ1wiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBcImF0dHJpYnV0aW9uXCI6IG51bGwsXG4gICAgICAgICAgICAgICAgXCJhdHRyaWJ1dGlvbnNcIjogeyBcImNvbnRlbnRcIjogW10sIFwiY3JlYXRvclwiOiBcIlwiIH0sXG4gICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBudWxsLFxuICAgICAgICAgICAgICAgIFwibW9kZWxfdXJsXCI6IFwiaHR0cHM6Ly9hbHBoYWh1Yi5hcHRlcm8uY28vZmlsZXMvNTk4ZWVlZDMtMDc2OC00MDhhLWE3NWItYjBmY2I4ZTkwN2FmLmJpblwiLFxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIk11c2V1bVwiLFxuICAgICAgICAgICAgICAgIFwicGFyZW50X3NjZW5lX2lkXCI6IG51bGwsXG4gICAgICAgICAgICAgICAgXCJwcm9qZWN0X2lkXCI6IFwid3dEeVE4dFwiLFxuICAgICAgICAgICAgICAgIFwic2NlbmVfaWRcIjogXCJicjRwVlQyXCIsXG4gICAgICAgICAgICAgICAgXCJzY3JlZW5zaG90X3VybFwiOiBcImh0dHBzOi8vYWxwaGFodWIuYXB0ZXJvLmNvL2ZpbGVzLzM4NDczZjExLTYxNWYtNDg3ZC1iMjBiLWYzYjY1NThhYmVhNi5qcGdcIixcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzY2VuZVwiLFxuICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9hbHBoYWh1Yi5hcHRlcm8uY28vc2NlbmVzL2JyNHBWVDIvbXVzZXVtXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInNsdWdcIjogXCJsaWdodHdlaWdodC1lbXB0eS1yb29tXCIsXG4gICAgICAgICAgICBcInR1cm5cIjoge1xuICAgICAgICAgICAgICAgIFwiY3JlZGVudGlhbFwiOiBcIkNXQmlJVXJvQng5eDdPSVRieE1ybTU0SGlKdz1cIixcbiAgICAgICAgICAgICAgICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBcInRyYW5zcG9ydHNcIjogW3sgXCJwb3J0XCI6IDUzNDkgfV0sXG4gICAgICAgICAgICAgICAgXCJ1c2VybmFtZVwiOiBcIjE2MzYxNDA3MzY6Y290dXJuXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInVzZXJfZGF0YVwiOiBudWxsXG4gICAgICAgIH1dLFxuICAgICAgICBcInBlcm1zX3Rva2VuXCI6IFwiZXlKaGJHY2lPaUpTVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmhZMk52ZFc1MFgybGtJam9pTmpRd05EQTNNRFV3T1RZMk1qWTVPVFl4SWl3aVlXMXdiR2xtZVY5aGRXUnBieUk2ZEhKMVpTd2lZWFZrSWpvaWNtVjBYM0JsY20xeklpd2lZMnh2YzJWZmFIVmlJanAwY25WbExDSmpjbVZoZEdWZmFIVmlJanAwY25WbExDSmxiV0psWkY5b2RXSWlPblJ5ZFdVc0ltVjRjQ0k2TVRZek5qRTBNRGt4Tml3aVpteDVJanAwY25WbExDSm9kV0pmYVdRaU9pSjVWVmhFTjBFeUlpd2lhV0YwSWpveE5qTTJNVFF3TmpFMkxDSnBjM01pT2lJaUxDSnFiMmx1WDJoMVlpSTZkSEoxWlN3aWFuUnBJam9pWmpoa05HVTJNRE10TVdFME5DMDBNV1JtTFRnNU5XTXROakUzWkdWaFl6YzVaREk0SWl3aWEybGphMTkxYzJWeWN5STZkSEoxWlN3aWJYVjBaVjkxYzJWeWN5STZkSEoxWlN3aWJtSm1Jam94TmpNMk1UUXdOakUxTENKd2FXNWZiMkpxWldOMGN5STZkSEoxWlN3aWNHOXpkR2R5WlhOMFgzSnZiR1VpT2lKeVpYUmZZV1J0YVc0aUxDSnpjR0YzYmw5aGJtUmZiVzkyWlY5dFpXUnBZU0k2ZEhKMVpTd2ljM0JoZDI1ZlkyRnRaWEpoSWpwMGNuVmxMQ0p6Y0dGM2JsOWtjbUYzYVc1bklqcDBjblZsTENKemNHRjNibDlsYlc5cWFTSTZkSEoxWlN3aWMzVmlJam9pTmpRd05EQTNNRFV3T1RZMk1qWTVPVFl4WDNsVldFUTNRVElpTENKMGQyVmxkQ0k2Wm1Gc2MyVXNJblI1Y0NJNkltRmpZMlZ6Y3lJc0luVndaR0YwWlY5b2RXSWlPblJ5ZFdVc0luVndaR0YwWlY5b2RXSmZjSEp2Ylc5MGFXOXVJanAwY25WbExDSjFjR1JoZEdWZmNtOXNaWE1pT25SeWRXVjkucWxOSmxvS1lEbWMyd1NUYUtGMWVWWUtLVl9sQ3V1d3pmZFJucTNKYy1PUDlQNXVoS2lGem8xaTlONnJIQkNJZklURXdwOGZKb3VEN1ROT3JCdnB3Rmd4UjFKSFRnT3BnV1RkRDZsdHhSR3NwYnRKUk1KUTdxYTY2V1RyVnhLdXA0ZkkxYWg3MGRGSXNIdTI2R05kVWFhTnA4NTAzVll1bzQxRHpzMFhuVFQxYkxqYk5NMHVnSl9aYUZfZDI0YjFtXzdkTEtkQW4wLWFaa29UUVNDbDN3ek5ES0xFOTBCMkZKVDZNYzdocWVvOGQwbWhyM3lOUVNSeUo0eExTMFRCRzRmdkZaUUw1SF9iUkQ0RmstcTE3amVNQWdJQXZ0cXVFbGJzMWNZUm5RRkUzZy1QY3NSWVlSc2VqV2F6NFBFSlVsWjVNTTV0Ym9oTTVYb1ZIZFJUOFpBXCIsXG4gICAgICAgIFwic2Vzc2lvbl9pZFwiOiBcImEzYzc1MGI4LTY0NDYtNGExZS1hNjM4LWM1MTYwNzNkODg2MVwiLFxuICAgICAgICBcInNlc3Npb25fdG9rZW5cIjogXCJleUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUp5WlhSZmMyVnpjMmx2YmlJc0ltVjRjQ0k2TVRZek5qSXlOekF4Tml3aWFXRjBJam94TmpNMk1UUXdOakUyTENKcGMzTWlPaUlpTENKcWRHa2lPaUl6TkRrNFlqZzRPQzAxTmpBMExUUXhZemN0WVdGbVpDMHhNakk1Tm1VNFltTmxZVElpTENKdVltWWlPakUyTXpZeE5EQTJNVFVzSW5ObGMzTnBiMjVmYVdRaU9pSmhNMk0zTlRCaU9DMDJORFEyTFRSaE1XVXRZVFl6T0Mxak5URTJNRGN6WkRnNE5qRWlMQ0p6ZFdJaU9pSmhNMk0zTlRCaU9DMDJORFEyTFRSaE1XVXRZVFl6T0Mxak5URTJNRGN6WkRnNE5qRWlMQ0owZVhBaU9pSmhZMk5sYzNNaWZRLkViRXprZ3dOSjhfSDRnOHZ4RkktY2g5SHByYnpOaDEyeGtmai1PclVPa1VxVEYtai1xRXBzRi1YRklab3pTbENVMmN3SlZEN1JMdXhOT3VxRFZGNzZnXCIsXG4gICAgICAgIFwic3Vic2NyaXB0aW9uc1wiOiB7IFwiZmF2b3JpdGVzXCI6IHRydWUsIFwid2ViX3B1c2hcIjogbnVsbCB9XG4gICAgfSwgXCJzdGF0dXNcIjogXCJva1wiXG59XTtcblxuICovXG4iXSwibmFtZXMiOlsiU2VydmljZUVudGl0eSIsIlNjZW5lTG9hZGVyIiwibG9hZCIsIlNwb2tlUm9vbUxvYWRlciIsImNvbnN0cnVjdG9yIiwidGhyZWVMaWIiLCJsb2FkUm9vbSIsImh1YmlkIiwiZGF0YSIsImh1YlBoeENoYW5uZWwiLCJ2YXBpZGRhdGEiLCJzY2VuZVVSTCIsImh1YnMiLCJzY2VuZSIsIm1vZGVsX3VybCIsInJlcGxhY2UiLCJzY2VuZUxvYWRlciIsImxvYWRTY2VuZSIsImdldFR5cGUiLCJuYW1lIiwiRmFjdG9yeSIsImNyZWF0ZUNvbXBvbmVudCIsIndvcmxkIiwiY29uZmlnIiwic2VydmljZXMiLCJnZXRGaXJzdENvbXBvbmVudEJ5VHlwZSIsInRocmVlIiwiZ2V0U2VydmljZSIsInBsYXllclNlcnZpY2UiLCJzcG9rZVJvb21Mb2FkZXIiLCJyb29tIiwiZ2V0Q3VycmVudFBsYXllciIsImRlY2xhcmVOYXZNZXNoIiwibmF2TWVzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/modules/spoke/SpokeRoomLoader.ts\n')}}]);