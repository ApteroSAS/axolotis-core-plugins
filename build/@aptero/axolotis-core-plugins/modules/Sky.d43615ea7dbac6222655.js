/*!
 * 
 *   @aptero/axolotis-core-plugins v1.0.0
 *   https://github.com/ApteroSAS/axolotis-player
 *
 *   Copyright (c) Aptero (https://github.com/ApteroSAS/axolotis-player) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
"use strict";(self.webpackChunkaxolotis_core_plugins=self.webpackChunkaxolotis_core_plugins||[]).push([[614],{259:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Factory": function() { return /* binding */ Factory; },\n/* harmony export */   "default": function() { return /* binding */ Sky; }\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(212);\n/* harmony import */ var _aptero_axolotis_player__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(919);\n/* harmony import */ var _aptero_axolotis_player__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_aptero_axolotis_player__WEBPACK_IMPORTED_MODULE_0__);\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n //import { ComponentFactory,WorldEntity,WebpackLazyModule,ServiceEntity,Component} from "@aptero/axolotis-player";\n\n\nclass Factory {\n  async createComponent(world, config) {\n    let services = world.getFirstComponentByType(_aptero_axolotis_player__WEBPACK_IMPORTED_MODULE_0__.ServiceEntity.name);\n    let three = await services.getService("@aptero/axolotis-core-plugins/modules/three/ThreeLib");\n    let sky = new Sky();\n    await sky.initialize(three, config.skymap); //"assets/static/demo2/sky.jpg"\n\n    return sky;\n  }\n\n}\nclass Sky {\n  constructor() {\n    _defineProperty(this, "scene", void 0);\n\n    _defineProperty(this, "texture", void 0);\n  }\n\n  getType() {\n    return "Sky";\n  }\n\n  async initialize(three, skymap) {\n    this.scene = three.scene;\n    this.texture = await three.loadAssets(skymap);\n    const hemiLight = new three__WEBPACK_IMPORTED_MODULE_1__.HemisphereLight(0xffffff, 0xfffffff, 1);\n    hemiLight.color.setHSL(0.6, 1, 0.6);\n    hemiLight.groundColor.setHSL(0.095, 1, 0.75);\n    this.scene.add(hemiLight);\n    const skyGeo = new three__WEBPACK_IMPORTED_MODULE_1__.SphereGeometry(1000, 25, 25);\n    const skyMat = new three__WEBPACK_IMPORTED_MODULE_1__.MeshBasicMaterial({\n      map: this.texture,\n      side: three__WEBPACK_IMPORTED_MODULE_1__.BackSide,\n      depthWrite: false,\n      toneMapped: false\n    });\n    const sky = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(skyGeo, skyMat);\n    sky.rotateY(three__WEBPACK_IMPORTED_MODULE_1__.MathUtils.degToRad(-60));\n    this.scene.add(sky);\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Q0FDQTs7QUFFQTtBQVNPLE1BQU1FLE9BQU4sQ0FBa0U7QUFDbEQsUUFBZkMsZUFBZSxDQUFDQyxLQUFELEVBQXFCQyxNQUFyQixFQUFnRDtBQUNuRSxRQUFJQyxRQUFRLEdBQUdGLEtBQUssQ0FBQ0csdUJBQU4sQ0FDYk4sdUVBRGEsQ0FBZjtBQUdBLFFBQUlRLEtBQUssR0FBRyxNQUFNSCxRQUFRLENBQUNJLFVBQVQsQ0FDaEIsc0RBRGdCLENBQWxCO0FBR0EsUUFBSUMsR0FBRyxHQUFHLElBQUlDLEdBQUosRUFBVjtBQUNBLFVBQU1ELEdBQUcsQ0FBQ0UsVUFBSixDQUFlSixLQUFmLEVBQXNCSixNQUFNLENBQUNTLE1BQTdCLENBQU4sQ0FSbUUsQ0FRdkI7O0FBQzVDLFdBQU9ILEdBQVA7QUFDRDs7QUFYc0U7QUFjMUQsTUFBTUMsR0FBTixDQUErQjtBQUc1Q0csRUFBQUEsV0FBVyxHQUFHO0FBQUE7O0FBQUE7QUFBRTs7QUFFaEJDLEVBQUFBLE9BQU8sR0FBVztBQUNoQixXQUFPLEtBQVA7QUFDRDs7QUFFZSxRQUFWSCxVQUFVLENBQUNKLEtBQUQsRUFBa0JLLE1BQWxCLEVBQWtDO0FBQ2hELFNBQUtHLEtBQUwsR0FBYVIsS0FBSyxDQUFDUSxLQUFuQjtBQUNBLFNBQUtDLE9BQUwsR0FBZSxNQUFNVCxLQUFLLENBQUNVLFVBQU4sQ0FBaUJMLE1BQWpCLENBQXJCO0FBQ0EsVUFBTU0sU0FBUyxHQUFHLElBQUlwQixrREFBSixDQUEwQixRQUExQixFQUFvQyxTQUFwQyxFQUErQyxDQUEvQyxDQUFsQjtBQUNBb0IsSUFBQUEsU0FBUyxDQUFDRSxLQUFWLENBQWdCQyxNQUFoQixDQUF1QixHQUF2QixFQUE0QixDQUE1QixFQUErQixHQUEvQjtBQUNBSCxJQUFBQSxTQUFTLENBQUNJLFdBQVYsQ0FBc0JELE1BQXRCLENBQTZCLEtBQTdCLEVBQW9DLENBQXBDLEVBQXVDLElBQXZDO0FBQ0EsU0FBS04sS0FBTCxDQUFXUSxHQUFYLENBQWVMLFNBQWY7QUFFQSxVQUFNTSxNQUFNLEdBQUcsSUFBSTFCLGlEQUFKLENBQXlCLElBQXpCLEVBQStCLEVBQS9CLEVBQW1DLEVBQW5DLENBQWY7QUFDQSxVQUFNNEIsTUFBTSxHQUFHLElBQUk1QixvREFBSixDQUE0QjtBQUN6QzhCLE1BQUFBLEdBQUcsRUFBRSxLQUFLWixPQUQrQjtBQUV6Q2EsTUFBQUEsSUFBSSxFQUFFL0IsMkNBRm1DO0FBR3pDaUMsTUFBQUEsVUFBVSxFQUFFLEtBSDZCO0FBSXpDQyxNQUFBQSxVQUFVLEVBQUU7QUFKNkIsS0FBNUIsQ0FBZjtBQU1BLFVBQU12QixHQUFHLEdBQUcsSUFBSVgsdUNBQUosQ0FBZTBCLE1BQWYsRUFBdUJFLE1BQXZCLENBQVo7QUFDQWpCLElBQUFBLEdBQUcsQ0FBQ3lCLE9BQUosQ0FBWXBDLHFEQUFBLENBQXlCLENBQUMsRUFBMUIsQ0FBWjtBQUNBLFNBQUtpQixLQUFMLENBQVdRLEdBQVgsQ0FBZWQsR0FBZjtBQUNEOztBQTNCMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9heG9sb3Rpcy1jb3JlLXBsdWdpbnMvLi9zcmMvbGliL21vZHVsZXMvU2t5LnRzPzUyMDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG4vL2ltcG9ydCB7IENvbXBvbmVudEZhY3RvcnksV29ybGRFbnRpdHksV2VicGFja0xhenlNb2R1bGUsU2VydmljZUVudGl0eSxDb21wb25lbnR9IGZyb20gXCJAYXB0ZXJvL2F4b2xvdGlzLXBsYXllclwiO1xuXG5pbXBvcnQgeyBTZXJ2aWNlRW50aXR5IH0gZnJvbSBcIkBhcHRlcm8vYXhvbG90aXMtcGxheWVyXCI7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCJAYXB0ZXJvL2F4b2xvdGlzLXBsYXllci9idWlsZC90eXBlcy9tb2R1bGVzL2NvcmUvZWNzL0NvbXBvbmVudFwiO1xuaW1wb3J0IHsgV2VicGFja0xhenlNb2R1bGUgfSBmcm9tIFwiQGFwdGVyby9heG9sb3Rpcy1wbGF5ZXIvYnVpbGQvdHlwZXMvbW9kdWxlcy9jb3JlL2xvYWRlci9XZWJwYWNrTG9hZGVyXCI7XG5pbXBvcnQgeyBDb21wb25lbnRGYWN0b3J5IH0gZnJvbSBcIkBhcHRlcm8vYXhvbG90aXMtcGxheWVyL2J1aWxkL3R5cGVzL21vZHVsZXMvY29yZS9lY3MvQ29tcG9uZW50RmFjdG9yeVwiO1xuaW1wb3J0IHsgV29ybGRFbnRpdHkgfSBmcm9tIFwiQGFwdGVyby9heG9sb3Rpcy1wbGF5ZXIvYnVpbGQvdHlwZXMvbW9kdWxlcy9jb3JlL2Vjcy9Xb3JsZEVudGl0eVwiO1xuLy9pbXBvcnQgeyBTZXJ2aWNlRW50aXR5IH0gZnJvbSBcIkBhcHRlcm8vYXhvbG90aXMtcGxheWVyL2J1aWxkL3R5cGVzL21vZHVsZXMvY29yZS9zZXJ2aWNlL1NlcnZpY2VFbnRpdHlcIjtcblxuaW1wb3J0IHsgVGhyZWVMaWIgfSBmcm9tIFwiQHJvb3QvbGliL21vZHVsZXMvdGhyZWUvVGhyZWVMaWJcIjtcblxuZXhwb3J0IGNsYXNzIEZhY3RvcnkgaW1wbGVtZW50cyBXZWJwYWNrTGF6eU1vZHVsZSwgQ29tcG9uZW50RmFjdG9yeTxTa3k+IHtcbiAgYXN5bmMgY3JlYXRlQ29tcG9uZW50KHdvcmxkOiBXb3JsZEVudGl0eSwgY29uZmlnOiBhbnkpOiBQcm9taXNlPFNreT4ge1xuICAgIGxldCBzZXJ2aWNlcyA9IHdvcmxkLmdldEZpcnN0Q29tcG9uZW50QnlUeXBlPFNlcnZpY2VFbnRpdHk+KFxuICAgICAgU2VydmljZUVudGl0eS5uYW1lXG4gICAgKTtcbiAgICBsZXQgdGhyZWUgPSBhd2FpdCBzZXJ2aWNlcy5nZXRTZXJ2aWNlPFRocmVlTGliPihcbiAgICAgIFwiQGFwdGVyby9heG9sb3Rpcy1jb3JlLXBsdWdpbnMvbW9kdWxlcy90aHJlZS9UaHJlZUxpYlwiXG4gICAgKTtcbiAgICBsZXQgc2t5ID0gbmV3IFNreSgpO1xuICAgIGF3YWl0IHNreS5pbml0aWFsaXplKHRocmVlLCBjb25maWcuc2t5bWFwKTsgLy9cImFzc2V0cy9zdGF0aWMvZGVtbzIvc2t5LmpwZ1wiXG4gICAgcmV0dXJuIHNreTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTa3kgaW1wbGVtZW50cyBDb21wb25lbnQge1xuICBwcml2YXRlIHNjZW5lOiBhbnk7XG4gIHByaXZhdGUgdGV4dHVyZTogYW55O1xuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgZ2V0VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIlNreVwiO1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSh0aHJlZTogVGhyZWVMaWIsIHNreW1hcDogc3RyaW5nKSB7XG4gICAgdGhpcy5zY2VuZSA9IHRocmVlLnNjZW5lO1xuICAgIHRoaXMudGV4dHVyZSA9IGF3YWl0IHRocmVlLmxvYWRBc3NldHMoc2t5bWFwKTtcbiAgICBjb25zdCBoZW1pTGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KDB4ZmZmZmZmLCAweGZmZmZmZmYsIDEpO1xuICAgIGhlbWlMaWdodC5jb2xvci5zZXRIU0woMC42LCAxLCAwLjYpO1xuICAgIGhlbWlMaWdodC5ncm91bmRDb2xvci5zZXRIU0woMC4wOTUsIDEsIDAuNzUpO1xuICAgIHRoaXMuc2NlbmUuYWRkKGhlbWlMaWdodCk7XG5cbiAgICBjb25zdCBza3lHZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMTAwMCwgMjUsIDI1KTtcbiAgICBjb25zdCBza3lNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgbWFwOiB0aGlzLnRleHR1cmUsXG4gICAgICBzaWRlOiBUSFJFRS5CYWNrU2lkZSxcbiAgICAgIGRlcHRoV3JpdGU6IGZhbHNlLFxuICAgICAgdG9uZU1hcHBlZDogZmFsc2UsXG4gICAgfSk7XG4gICAgY29uc3Qgc2t5ID0gbmV3IFRIUkVFLk1lc2goc2t5R2VvLCBza3lNYXQpO1xuICAgIHNreS5yb3RhdGVZKFRIUkVFLk1hdGhVdGlscy5kZWdUb1JhZCgtNjApKTtcbiAgICB0aGlzLnNjZW5lLmFkZChza3kpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiVEhSRUUiLCJTZXJ2aWNlRW50aXR5IiwiRmFjdG9yeSIsImNyZWF0ZUNvbXBvbmVudCIsIndvcmxkIiwiY29uZmlnIiwic2VydmljZXMiLCJnZXRGaXJzdENvbXBvbmVudEJ5VHlwZSIsIm5hbWUiLCJ0aHJlZSIsImdldFNlcnZpY2UiLCJza3kiLCJTa3kiLCJpbml0aWFsaXplIiwic2t5bWFwIiwiY29uc3RydWN0b3IiLCJnZXRUeXBlIiwic2NlbmUiLCJ0ZXh0dXJlIiwibG9hZEFzc2V0cyIsImhlbWlMaWdodCIsIkhlbWlzcGhlcmVMaWdodCIsImNvbG9yIiwic2V0SFNMIiwiZ3JvdW5kQ29sb3IiLCJhZGQiLCJza3lHZW8iLCJTcGhlcmVHZW9tZXRyeSIsInNreU1hdCIsIk1lc2hCYXNpY01hdGVyaWFsIiwibWFwIiwic2lkZSIsIkJhY2tTaWRlIiwiZGVwdGhXcml0ZSIsInRvbmVNYXBwZWQiLCJNZXNoIiwicm90YXRlWSIsIk1hdGhVdGlscyIsImRlZ1RvUmFkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///259\n')}}]);